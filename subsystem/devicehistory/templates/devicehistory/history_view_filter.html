{% load filters %}
<tr>
    <th>From:</th>
    <td><input type="text" name="from_date" value="{{ from_date }}" /></td>
</tr>
<tr>
    <th>To:</th>
    <td><input type="text" name="to_date" value="{{ to_date }}" /></td>
</tr>
<tr>
    <th>Type:</th>
    <td>
        <select name="type">
        <option value="all">All</option>
        {% for e,alert_types in event_type.items %}
            <optgroup label="{{ e }}">
                <option value="e_{{ e }}"
                {% if e.id|in_list:selected_types.event %}
                selected="selected"
                {% endif %}>All {{ e }}</option>
            {% for a in alert_types %}
                <option value="a_{{ a.id }}" 
                {% if a.id|stringformat:"s"|in_list:selected_types.alert %}
                    selected="selected"
                {% endif %}>{{ a.name }}</option>
            {% endfor %}
            </optgroup>
        {% endfor %}
        </select>
    </td>
</tr>
<tr>
    <th>Group by:</th>
    <td>
        <label><input type="radio" name="group_by" value="location"
            {% ifequal group_by "location" %}
            checked="checked"
            {% endifequal %} />Location, room, box and time</label><br />
        <label><input type="radio" name="group_by" value="box_and_modules"
            {% ifequal group_by "box_and_modules" %}
            checked="checked"
            {% endifequal %} />Netbox, module and time</label><br />
        <label><input type="radio" name="group_by" value="device"
            {% ifequal group_by "devices" %}
            checked="checked"
            {% endifequal %} />Device and time</label><br />
        <label><input type="radio" name="group_by" value="datetime"
            {% ifequal group_by "datetime" %}
            checked="checked"
            {% endifequal %} />Time</label>
    </td>
</tr>
