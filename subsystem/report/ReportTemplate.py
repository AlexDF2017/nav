#!/usr/bin/env python

"""
Autogenerated by CHEETAH: The Python-Powered Template Engine
 CHEETAH VERSION: 0.9.15
 Generation time: Tue Jul  1 15:20:37 2003
   Source file: ReportTemplate.tmpl
   Source file last modified: Mon Jun 30 15:40:33 2003
"""

__CHEETAH_genTime__ = 'Tue Jul  1 15:20:37 2003'
__CHEETAH_src__ = 'ReportTemplate.tmpl'
__CHEETAH_version__ = '0.9.15'

##################################################
## DEPENDENCIES

import sys
import os
import os.path
from os.path import getmtime, exists
import time
import types
import __builtin__
from Cheetah.Template import Template
from Cheetah.DummyTransaction import DummyTransaction
from Cheetah.NameMapper import NotFound, valueForName, valueFromSearchList
import Cheetah.Filters as Filters
import Cheetah.ErrorCatchers as ErrorCatchers
from MainTemplate import MainTemplate

##################################################
## MODULE CONSTANTS

try:
    True, False
except NameError:
    True, False = (1==1), (1==0)
VFS=valueFromSearchList
VFN=valueForName
currentTime=time.time

##################################################
## CLASSES

class ReportTemplate(MainTemplate):
    """
    
    Autogenerated by CHEETAH: The Python-Powered Template Engine
    """

    ##################################################
    ## GENERATED METHODS


    def __init__(self, *args, **KWs):
        """
        
        """

        MainTemplate.__init__(self, *args, **KWs)

    def additionalCSS(self,
            trans=None,
            dummyTrans=False,
            VFS=valueFromSearchList,
            VFN=valueForName,
            getmtime=getmtime,
            currentTime=time.time,
            globals=globals,
            locals=locals,
            __builtin__=__builtin__):


        """
        Generated from #block additionalCSS at line 37, col 1.
        """

        if not trans:
            trans = DummyTransaction()
            dummyTrans = True
        write = trans.response().write
        SL = self._searchList
        filter = self._currentFilter
        globalSetVars = self._globalSetVars
        
        ########################################
        ## START - generated method body
        
        write('''      DIV.title { font-size: 15; font-weight: bold; text-align: center; padding: 0px 0px 0px 0px}

      TR.navigation { font-size: 11; }
      TD.previous { text-align: right; }
      TD.current  { text-align: center; }
      TD.next     { text-align: left; }

      TR.header { background-image:url(\'''')
        write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 45, col 41.
        write('''/ragen/navbar-fill.gif'); background-repeat: repeat-x; height: 26px; padding: 1px 0px 0px 0px; }

      TR.header { font-size: 13; background-color: #eeeeee; }
      TR.footer { font-size: 13; font-weight: bold; background-color: white; }

      TR.evenrow { font-size: 11; background-color: #eeeeee; }
      TR.oddrow  { font-size: 11; }
''')
        
        ########################################
        ## END - generated method body
        
        if dummyTrans:
            return trans.response().getvalue()
        else:
            return ""
        

    def additionalJavaScript(self,
            trans=None,
            dummyTrans=False,
            VFS=valueFromSearchList,
            VFN=valueForName,
            getmtime=getmtime,
            currentTime=time.time,
            globals=globals,
            locals=locals,
            __builtin__=__builtin__):


        """
        Generated from #block additionalJavaScript at line 54, col 1.
        """

        if not trans:
            trans = DummyTransaction()
            dummyTrans = True
        write = trans.response().write
        SL = self._searchList
        filter = self._currentFilter
        globalSetVars = self._globalSetVars
        
        ########################################
        ## START - generated method body
        
        write('      image1 = new Image();\n      image1.src = "')
        write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 56, col 21.
        write('/ragen/previous-active.gif";\n      image2 = new Image();\n      image2.src = "')
        write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 58, col 21.
        write('/ragen/next-active.gif";\n      image3 = new Image();\n      image3.src = "')
        write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 60, col 21.
        write('/ragen/bottom-previous-active.gif";\n      image4 = new Image();\n      image4.src = "')
        write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 62, col 21.
        write('/ragen/bottom-next-active.gif";\n')
        
        ########################################
        ## END - generated method body
        
        if dummyTrans:
            return trans.response().getvalue()
        else:
            return ""
        

    def content(self,
            trans=None,
            dummyTrans=False,
            VFS=valueFromSearchList,
            VFN=valueForName,
            getmtime=getmtime,
            currentTime=time.time,
            globals=globals,
            locals=locals,
            __builtin__=__builtin__):


        """
        Generated from #block content at line 65, col 1.
        """

        if not trans:
            trans = DummyTransaction()
            dummyTrans = True
        write = trans.response().write
        SL = self._searchList
        filter = self._currentFilter
        globalSetVars = self._globalSetVars
        
        ########################################
        ## START - generated method body
        
        if VFS(SL + [globals(), __builtin__],"report",1):
            write('  <table class="title" width="100%" border="0" cellspacing="0" cellpadding="0" style="background-image:url(\'')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 67, col 109.
            write('''/ragen/logo+fill.gif'); background-repeat: no-repeat; ">
    <tr class="title">
      <td width="9"> </td>
      <td class="title" align="center">
        <table class="navigation" cellspacing="0" cellpadding="0" border="0">
          <tr class="navigation">
            <td class="previous">
''')
            if VFS(SL + [globals(), __builtin__],"report.navigator.previous",1):
                write('              <a title="previous page" href="')
                write(filter(VFS(SL + [globals(), __builtin__],"report.navigator.previous",1), rawExpr='$report.navigator.previous')) # from line 75, col 46.
                write('"\n                 onmouseover="image1.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 76, col 43.
                write('/ragen/previous-active.gif\';"\n                 onmouseout="image1.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 77, col 42.
                write('/ragen/previous.gif\';">\n              <img name="image1" src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 78, col 39.
                write('/ragen/previous.gif" border="0" alt="<< previous" title="previous page" /></a>\n')
            else:
                write('              <img src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 80, col 25.
                write('/blank.gif" width="31" height="31" alt="" />\n')
            write('              <img src="')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 82, col 25.
            write('''/blank.gif" width="5" height="1" alt="" />
            </td>
            <td class="current">
              <div class="title">''')
            write(filter(VFS(SL + [globals(), __builtin__],"report.header",1), rawExpr='$report.header')) # from line 85, col 34.
            write('</div>\n              ')
            write(filter(VFS(SL + [globals(), __builtin__],"report.navigator.view",1), rawExpr='$report.navigator.view')) # from line 86, col 15.
            write('''
            </td>
            <td class="next">
              <img src="''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 89, col 25.
            write('/blank.gif" width="5" height="1" alt="" />\n')
            if VFS(SL + [globals(), __builtin__],"report.navigator.next",1):
                write('              <a title="next page" href="')
                write(filter(VFS(SL + [globals(), __builtin__],"report.navigator.next",1), rawExpr='$report.navigator.next')) # from line 91, col 42.
                write('"\n                 onmouseover="image2.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 92, col 43.
                write('/ragen/next-active.gif\';"\n                 onmouseout="image2.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 93, col 42.
                write('/ragen/next.gif\';">\n              <img name="image2" src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 94, col 39.
                write('/ragen/next.gif" border="0" alt="next >>" title="next page" /></a>\n')
            else:
                write('              <img src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 96, col 25.
                write('/blank.gif" width="31" height="31" alt="" />\n')
            write('''            </td>
          </tr>
        </table>
      </td>
      <td style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 102, col 40.
            write('''/ragen/top-end.gif'); background-repeat: no-repeat; " width="9"> </td>
    </tr>
  </table>
  <table class="results" width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr class="header">
      <td bgcolor="white" style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 107, col 56.
            write('/ragen/navbar-start.gif\'); background-repeat: no-repeat; width: 14px" rowspan="9999"><img src=')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 107, col 162.
            write('/blank.gif"" width=14 height=1 alt="" /></td>\n')
            for cell in VFS(SL + [globals(), __builtin__],"report.table.header.cells",1):
                write('      <td class="header" valign="top" style="padding: 0px 10px 0px 0px; ">\n')
                if VFN(cell,"uri",1):
                    write('        <a href="')
                    write(filter(VFN(cell,"uri",1), rawExpr='$cell.uri')) # from line 111, col 18.
                    write('" class="navbar" title="')
                    write(filter(VFN(cell,"explanation",1), rawExpr='$cell.explanation')) # from line 111, col 51.
                    write('">\n')
                else:
                    write('        <a class="navbar" title="')
                    write(filter(VFN(cell,"explanation",1), rawExpr='$cell.explanation')) # from line 113, col 34.
                    write('">\n')
                write('          ')
                write(filter(VFN(cell,"text",1), rawExpr='$cell.text')) # from line 115, col 11.
                write('''
        </a>&nbsp;
      </td>
''')
            write('      <td bgcolor="white" style="background-image:url(\'')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 119, col 56.
            write('/ragen/navbar-end.gif\'); background-repeat: no-repeat; width: 14px;" rowspan="9999"><img src=')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 119, col 161.
            write('/blank.gif"" width=14 height=1 alt="" /></td>\n    </tr>\n')
            evenrow = 0
            for row in VFS(SL + [globals(), __builtin__],"report.table.rows",1):
                if evenrow:
                    write('    <tr class="evenrow">\n')
                    evenrow = 0
                else:
                    write('    <tr class="oddrow">\n')
                    evenrow = 1
                evencell = 0
                for cell in VFN(row,"cells",1):
                    if evencell:
                        write('      <td nowrap class="evencell" style="padding: 0px 10px 0px 0px">\n')
                        evencell = 0
                    else:
                        write('      <td nowrap class="oddcell" style="padding: 0px 10px 0px 0px">\n')
                        evencell = 1
                    if VFN(cell,"uri",1):
                        write('        <a href="')
                        write(filter(VFN(cell,"uri",1), rawExpr='$cell.uri')) # from line 140, col 18.
                        write('">\n')
                    write('          ')
                    write(filter(VFN(cell,"text",1), rawExpr='$cell.text')) # from line 142, col 11.
                    write('\n')
                    if VFN(cell,"uri",1):
                        write('        </a>\n')
                    write('      </td>\n')
                write('    </tr>\n')
            cols = len(VFS(SL + [globals(), __builtin__],"report.table.header.cells",1))
            write('    <tr bgcolor="black"><td colspan="')
            write(filter(cols, rawExpr='$cols')) # from line 151, col 38.
            write('"><img src="')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 151, col 55.
            write('/blank.gif" height="1" width="1" alt="" /></td></tr>\n    <tr class="footer">\n')
            for cell in VFS(SL + [globals(), __builtin__],"report.table.footer.cells",1):
                write('      <td class="footer">\n')
                if VFN(cell,"sum",1):
                    write('        ')
                    write(filter(VFN(cell,"sum",1), rawExpr='$cell.sum')) # from line 156, col 9.
                    write('\n')
                write('      </td>\n')
            write('''    </tr>
  </table>

  <table class="navigation" width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr class="navigation" style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 164, col 57.
            write('/ragen/bottom-fill.gif\'); background-repeat: repeat-x;">\n      <td bgcolor="white" style="background-image:url(\'')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 165, col 56.
            write('''/ragen/bottom-start.gif'); background-repeat: no-repeat; width: 10px"></td>
      <td class="navigation" align="center">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr class="navigation">
            <td class="previous">
''')
            if VFS(SL + [globals(), __builtin__],"report.navigator.previous",1):
                write('              <img src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 171, col 25.
                write('/blank.gif" width="1" height="1" alt="" /><br/>\n              <a title="previous page" href="')
                write(filter(VFS(SL + [globals(), __builtin__],"report.navigator.previous",1), rawExpr='$report.navigator.previous')) # from line 172, col 46.
                write('"\n                 onmouseover="image3.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 173, col 43.
                write('/ragen/bottom-previous-active.gif\';"\n                 onmouseout="image3.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 174, col 42.
                write('/ragen/bottom-previous.gif\';">\n              <img name="image3" src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 175, col 39.
                write('/ragen/bottom-previous.gif" border="0" alt="<< previous" title="previous page" /></a>\n')
            else:
                write('              <img src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 177, col 25.
                write('/blank.gif" width="19" height="19" alt="" />\n')
            write('              <img src="')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 179, col 25.
            write('''/blank.gif" width="3" height="1" alt="" />
            </td>
            <td class="current">
	      ''')
            write(filter(VFS(SL + [globals(), __builtin__],"report.navigator.view",1), rawExpr='$report.navigator.view')) # from line 182, col 8.
            write('''
            </td>
            <td class="next">
              <img src="''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 185, col 25.
            write('/blank.gif" width="1" height="1" alt="" /><br />\n')
            if VFS(SL + [globals(), __builtin__],"report.navigator.next",1):
                write('              <img src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 187, col 25.
                write('/blank.gif" width="3" height="1" alt="" />\n              <a title="next page" href="')
                write(filter(VFS(SL + [globals(), __builtin__],"report.navigator.next",1), rawExpr='$report.navigator.next')) # from line 188, col 42.
                write('"\n                 onmouseover="image4.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 189, col 43.
                write('/ragen/bottom-next-active.gif\';"\n                 onmouseout="image4.src=\'')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 190, col 42.
                write('/ragen/bottom-next.gif\';">\n              <img name="image4" src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 191, col 39.
                write('/ragen/bottom-next.gif" border="0" alt="next >>" title="next page" /></a>\n')
            else:
                write('              <img src="')
                write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 193, col 25.
                write('/blank.gif" width="19" height="19" alt="" />\n')
            write('''            </td>
          </tr>
        </table>
      </td>
      <td bgcolor="white" style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 199, col 56.
            write('''/ragen/bottom-end.gif'); background-repeat: no-repeat; width: 10px"></td>
    </tr>
  </table>
''')
        else:
            write('\n  <table class="title" width="100%" border="0" cellspacing="0" cellpadding="0" style="background-image:url(\'')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 204, col 109.
            write('''/ragen/logo+fill.gif'); background-repeat: no-repeat; ">
    <tr class="title">
      <td width="9"> </td>
      <td class="title" align="center">
        <table class="navigation" cellspacing="0" cellpadding="0" border="0">
          <tr class="navigation">
            <td class="current">
              <div class="title">&nbsp;</div>
            </td>
          </tr>
        </table>
      </td>
      <td style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 216, col 40.
            write('''/ragen/top-end.gif');" width="9"> </td>
    </tr>
  </table>
  <table class="results" width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr class="header">
      <td bgcolor="white" style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 221, col 56.
            write('''/ragen/navbar-start.gif'); background-repeat: no-repeat; width: 14px" rowspan="2"></td>
      <td class="header" valign="top">
        &nbsp;
      </td>
      <td bgcolor="white" style="background-image:url(\'''')
            write(filter(VFS(SL + [globals(), __builtin__],"imagefolder",1), rawExpr='$imagefolder')) # from line 225, col 56.
            write('''/ragen/navbar-end.gif'); background-repeat: no-repeat; width: 14px;" rowspan="2"></td>
    </tr>
    <tr class="oddrow">
      <td class="oddcell">
        <br/>
        <center>
          <font size="3">
            No results found!
          </font>
        </center>
      </td>
    </tr>
  </table>

''')
        
        ########################################
        ## END - generated method body
        
        if dummyTrans:
            return trans.response().getvalue()
        else:
            return ""
        

    def writeBody(self,
            trans=None,
            dummyTrans=False,
            VFS=valueFromSearchList,
            VFN=valueForName,
            getmtime=getmtime,
            currentTime=time.time,
            globals=globals,
            locals=locals,
            __builtin__=__builtin__):


        """
        This is the main method generated by Cheetah
        """

        if not trans:
            trans = DummyTransaction()
            dummyTrans = True
        write = trans.response().write
        SL = self._searchList
        filter = self._currentFilter
        globalSetVars = self._globalSetVars
        
        ########################################
        ## START - generated method body
        
        # 
        #  ReportTemplate.tmpl
        # 
        #  Extends the MainTemplate for header-information, nav-logo and navigation-bar.
        # 
        #  Builds html for the Report Generator with data in this form:
        # 
        #  $report
        #    +-- header                        :: name of the report
        #    +-- navigator
        #    |    +-- previous                 :: uri to previous page (optional)
        #    |    +-- view                     :: info about current page
        #    |    +-- next                     :: uri to next page (optional)
        #    +-- table
        #         +-- header
        #         |    +-- cells               :: array of cells
        #         |         +-- uri            :: link (optional)
        #         |         +-- text           :: name of the column
        #         |         +-- explanation    :: description of data in the column (optional)
        #         +-- rows
        #         |    +-- cells               :: array of cells
        #         |         +-- uri            :: link (optional)
        #         |         +-- text           :: the bread and butter of the table
        #         +-- footer
        #              +-- cells               :: array of cells
        #                   +-- sum            :: sum of values in the column (optional)
        # 
        #  The template uses images in $imagefolder/ragen/, where $imagefolder
        #  is inherited from MainTemplate and defaults to "/images".
        # 
        #  Last changed: 2003.06.25
        #  Author: Magnar Sveen (magnars@idi.ntnu.no)
        # 
        write('\n\n')
        self.additionalCSS(trans=trans) # generated from ('additionalCSS', '#block additionalCSS') at line 37, col 1.
        write('\n')
        self.additionalJavaScript(trans=trans) # generated from ('additionalJavaScript', '#block additionalJavaScript') at line 54, col 1.
        write('\n')
        self.content(trans=trans) # generated from ('content', '#block content') at line 65, col 1.
        
        ########################################
        ## END - generated method body
        
        if dummyTrans:
            return trans.response().getvalue()
        else:
            return ""
        
    ##################################################
    ## GENERATED ATTRIBUTES


    _mainCheetahMethod_for_ReportTemplate= 'writeBody'


# CHEETAH was developed by Tavis Rudd, Mike Orr, Ian Bicking and Chuck Esterbrook;
# with code, advice and input from many other volunteers.
# For more information visit http://www.CheetahTemplate.org

##################################################
## if run from command line:
if __name__ == '__main__':
    ReportTemplate().runAsMainProgram()

