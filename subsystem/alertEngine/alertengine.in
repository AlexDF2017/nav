#!/usr/bin/env bash
####################
#
# $Id: alertengine.in 2013 2003-11-14 13:05:11Z mortenv $
# This file is part of the NAV project.
# This script controls start/stop/status of the NAV alertEngine Daemon.
#
# Copyright (c) 2003 by NTNU, ITEA nettgruppen
# Authors: Arne Oslebo <arne.oslebo@uninett.no>
#
####################
prefix=@prefix@
exec_prefix=@exec_prefix@
sysconfdir=@sysconfdir@
initdir=@initdir@
bindir=@bindir@
user=@nav_user@

# Source function library.
. ${initdir}/functions

[ -x ${bindir}/alertdaemon.pl ] || exit 1

cd ${bindir}

# See how we were called.
case "$1" in
	start)
		# Start daemons.
		rc= su -c "${bindir}/alertdaemon.pl start" ${user}
		echo
		exit $rc;
		;;
	stop)
		# Stop daemons.
		rc= ${bindir}/alertdaemon.pl stop
		echo
		exit $rc;
        	;;
	restart)
		rc= su ${user} -c "${bindir}/alertdaemon.pl restart"
		echo
		exit $rc;
		;;
	status)
		rc= ${bindir}/alertdaemon.pl status
		echo
		exit $rc;
		;;
	*)
		echo "Usage: $0 {start|stop|restart|status}"
		exit 1
esac

exit 0

# === End of File ===
