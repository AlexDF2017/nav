<div class="quickselect">
    {% for attrs in output %}
        <div{% if attrs.collapse %} class="collapse"{% endif %}>
            <label for="id{{ attrs.name }}">
                {{ attrs.label }}
            </label>
            <select multiple="multiple" size="10" name="{{ attrs.name|slice:"1:" }}" id="id{{ attrs.name }}">
                {% for optgroup,options in attrs.objects %}
                    {% if optgroup %}
                        <optgroup label="{{ optgroup }}">
                    {% endif %}
                    {% for id,text in options %}
                        <option value="{{ id }}">{{ text }}</option>
                    {% endfor %}
                    {% if optgroup %}
                        </optgroup>
                    {% endif %}
                {% endfor %}
            </select>
            <p>
                <input type="submit" name="submit{{ attrs.name }}" value="Add {{ attr.label }}" />
            </p>
        </div>
    {% endfor %}
</div>
