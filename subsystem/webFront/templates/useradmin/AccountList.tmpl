## $Id$
## Extends the UserAdmin template for common useradmin structure.
## Builds html for the Account list screen of the useradmin module.
##
## Copyright 2003, 2004 Norwegian University of Science and Technology
##
## This file is part of Network Administration Visualized (NAV)
##
## NAV is free software; you can redistribute it and/or modify
## it under the terms of the GNU General Public License as published by
## the Free Software Foundation; either version 2 of the License, or
## (at your option) any later version.
##
## NAV is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU General Public License for more details.
##
## You should have received a copy of the GNU General Public License
## along with NAV; if not, write to the Free Software
## Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
##
##
## Authors: Morten Vold <morten.vold@itea.ntnu.no>
##          Magnar Sveen <magnars@idi.ntnu.no>
##

#extends UserAdmin

#def add_account($account, $row)
   <tr class="$row">
      <td><a href="/useradmin/account?id=$account.id">$account.login</a> &nbsp;</td>
      <td nowrap>$account.name</td>
      <td nowrap>$account.ext_sync</td>
      <td align="middle" width="0%">$account.groupcount</td>
   </tr>
#end def


#block useradmin

<table width="100%" cellspacing="0" cellpadding="0" border="0">
<!------------------------- TITLE  ---->
#set $rows = len($accounts)
    <tr class="title">
      <td class="title" align="center" colspan="5" style="background-image:url('$imagefolder/adminlogo+fill.gif'); background-repeat: no-repeat;">  
        <table class="navigation" cellspacing="0" cellpadding="0" border="0">
          <tr class="navigation">
            <td class="current">
              <div class="title"><font color="black">Account List</font></div>
              $rows accounts : <a href="account">Create new user</a>
            </td>
          </tr>
        </table>
      </td>
      <td align=right style="background-image:url('$imagefolder/arpcam/fill.gif');"><img src="$imagefolder/ragen/top-end.gif"></td>
    </tr>
<!------------------------- HEADER ---->
#set $rows = len($accounts) + 2
    <tr class="header">
      <td bgcolor="white" style="background-image:url('$imagefolder/ragen/navbar-start.gif'); background-repeat: no-repeat; width: 14px" rowspan="$rows">
        <img src="$imagefolder/blank.gif" width="14" height="1" alt="" />
      </td>
      <td class="header" valign="top" bgcolor="white" nowrap >
          Login &nbsp;
      </td>
      <td class="header" valign="top" bgcolor="white" nowrap >
          Name &nbsp;
      </td>
      <td class="header" valign="top" bgcolor="white" nowrap >
          External &nbsp;
      </td>
      <td class="header" valign="top" bgcolor="white" nowrap width="0%" align="right">
          # of groups &nbsp;
      </td>
      <td bgcolor="white" style="background-image:url('$imagefolder/ragen/navbar-end.gif'); background-position: top right; background-repeat: no-repeat; width: 14px;" rowspan="$rows">
        <img src="$imagefolder/blank.gif" width="14" height="1" alt="" />
      </td>
    </tr>

#set $row = "oddrow"
#for $account in $accounts
    $add_account($account, $row)
    #if $row == "evenrow"
      #set $row = "oddrow"
    #else
      #set $row = "evenrow"
    #end if
#end for

   </table>

#end block useradmin
