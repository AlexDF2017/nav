{% with module.get_swports_sorted as swports %}
{% if swports|length %}
<div class="module">
<h3><a href="{{ module.get_absolute_url }}">{{ module.module_number }}</a></h3>
<table>
    <tr>
    {% for swport in swports %}
        <td class="{{ swport.get_status_classes }}" title="{{ swport.get_status_title }}">
            <a href="{{ swport.get_absolute_url }}">{{ swport.get_interface_display }}</a>
        </td>
        {% if swports|length|divisibleby:12 %}
            {% if forloop.counter|divisibleby:12 %}</tr><tr>{% endif %}
        {% else %}
            {% if swports|length|divisibleby:8 %}
                {% if forloop.counter|divisibleby:8 %}</tr><tr>{% endif %}
            {% else %}
                {% if forloop.counter|divisibleby:10 %}</tr><tr>{% endif %}
            {% endif %}
        {% endif %}
    {% endfor %}
    </tr>
</table>
</div>
{% endif %}
{% endwith %}
