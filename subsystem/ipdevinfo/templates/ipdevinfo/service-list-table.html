<thead>
    <tr>
        <th rowspan="2">Status</th>
    {% if show_ipdev_info %}
        <th rowspan="2">IP Device</th>
        <th rowspan="2">Organization</th>
    {% endif %}
        <th rowspan="2">Handler</th>
        <th colspan="3">Availability</th>
        <th colspan="3">Response time</th>
        <th rowspan="2">Actions</th>
    </tr>
    <tr>
        <th>Last day</th>
        <th>Last week</th>
        <th>Last month</th>
        <th>Last day</th>
        <th>Last week</th>
        <th>Last month</th>
    </tr>
</thead>
<tfoot>
    <tr>
        <th colspan="0">
            {% with service_list.count as hits %}
                {{ hits }} service{{ hits|pluralize }} found
            {% endwith %}
            {% if is_paginated %}
                | Pages:
                {% for p in page_range %}
                    {% ifequal p page %}
                        <em>{{ p }}</em>
                    {% else %}
                        <a href="?page={{ p }}">{{ p }}</a>
                    {% endifequal %}
                {% endfor %}
            {% endif %}
        </th>
    </tr>
</tfoot>
<tbody>
    {% for service in service_list %}
    <tr class="{% cycle oddrow,evenrow %}">
        <td class="status_{{ service.get_up_display }}">
            {{ service.get_up_display|capfirst }}</td>
    {% if show_ipdev_info %}
        <td><a href="{{ service.netbox.get_absolute_url }}">
            {{ service.netbox.sysname }}</a></td>
        <td><a href="{% url report-organization-organization service.netbox.organization.id %}">
            {{ service.netbox.organization }}</td>
    {% endif %}
        <td><a href="{% url ipdevinfo-service-list-handler service.handler %}">
            {{ service.handler }}</a></td>
        {% with service.get_statistics as stats %}
        {% with stats.availability as a %}
        <td class="numeric"><a href="#FIXME-link-to-rrd-view">
            {% if a.day %}
                {{ a.day|floatformat:2 }}%
            {% else %}
                N/A
            {% endif %}
            </a></td>
        <td class="numeric"><a href="#FIXME-link-to-rrd-view">
            {% if a.week %}
                {{ a.week|floatformat:2 }}%
            {% else %}
                N/A
            {% endif %}
            </a></td>
        <td class="numeric"><a href="#FIXME-link-to-rrd-view">
            {% if a.month %}
                {{ a.month|floatformat:2 }}%
            {% else %}
                N/A
            {% endif %}
            </a></td>
        {% endwith %}
        {% with stats.response_time as rt %}
        <td class="numeric"><a href="#FIXME-link-to-rrd-view">
            {% if rt.day %}
                {{ rt.day|floatformat:3 }}{{ rt.data_source.units }}
            {% else %}
                N/A
            {% endif %}
            </a></td>
        <td class="numeric"><a href="#FIXME-link-to-rrd-view">
            {% if rt.week %}
                {{ rt.week|floatformat:3 }}{{ rt.data_source.units }}
            {% else %}
                N/A
            {% endif %}
            </a></td>
        <td class="numeric"><a href="#FIXME-link-to-rrd-view">
            {% if rt.month %}
                 {{ rt.month|floatformat:3 }}{{ rt.data_source.units }}
            {% else %}
                N/A
            {% endif %}
            </a></td>
        {% endwith %}
        {% endwith %}
        <td>
            <a href="{% url seeddb-edit-object "service",service.id %}">
                Edit</a>,
            <a href="{% url maintenance-new-service service.id %}">
                schedule maintenance</a>
        </td>
    {% endfor %}
</tbody>
