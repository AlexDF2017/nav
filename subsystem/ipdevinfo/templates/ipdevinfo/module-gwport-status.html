{% with module.get_gwports as gwports %}
{% if gwports|length %}
<div class="module">
<h3><a href="{{ module.get_absolute_url }}">{{ module.module_number }}</a></h3>
<table>
    <tr>
    {% for gwport in gwports %}
        <td class="{{ gwport.get_status_classes }}" title="{{ gwport.get_status_title }}">
            <a href="{{ gwport.get_absolute_url }}">{{ gwport.get_interface_display }}</a>
        </td>
        {% if gwports|length|divisibleby:12 %}
            {% if forloop.counter|divisibleby:12 %}</tr><tr>{% endif %}
        {% else %}
            {% if gwports|length|divisibleby:8 %}
                {% if forloop.counter|divisibleby:8 %}</tr><tr>{% endif %}
            {% else %}
                {% if forloop.counter|divisibleby:10 %}</tr><tr>{% endif %}
            {% endif %}
        {% endif %}
    {% endfor %}
    </tr>
</table>
</div>
{% endif %}
{% endwith %}
