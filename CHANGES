Version 3.12.0
(released xx Sep 2012)

User-visible features and improvements:

  * New netmap <insert more sellings points here>

  * Improved search in navbar. The search now returns results from rooms,
    netboxes and interfaces.

  * Room view with powerful netbox interface overview that makes it possible
    to sort, filter and export interface information. Reachable when searching
    in the navbar.

  * IP Device Info has gone through a major cleanup. It is now cleaner and
    easier to navigate.

  * A map with rooms and room-status is available for embedding on the main
    page. You will need to edit your rooms and give them coordinates for this
    to work. Just uncomment the comment in welcome-registered.txt to enable it.

  * IPv6 counters for router interfaces. For users updating NAV you need to
    manually copy new files to the cricket-config. For more info read the
    release notes.

Bugfixes:

  * LP#1039490 (Mixed IPv4 and IPv6 elinks are mis-labeled as lans)
  * LP#1040043 (Incorrect layer 2 topology in networks with VRRP routers)
  * LP#1043791 (MAX_CONCURRENT_JOBS needs to be configurable)
  * LP#1046227 (Django >= 1.2 deprecation warnings)


Version 3.11.6
(released 17 August 2012)

Bugfixes

  * LP#1023567 (ipdevpoll logging system uses too many resources)
  * LP#1027051 (ipdevpoll is not able to gather ARP and ND data from h3c/hp
                devices configured in IRF)
  * LP#1034864 (serial numbers disappear in NAV 3.11.5)
  * LP#1036656 (ipdevinfo only lists uplinks for switches)
  * LP#1037059 (CDP neighbors reported with IP=0.0.0.0 are mis-identified)
  * LP#1037460 (Cisco switch ports disappear in NAV 3.11.5)
  * LP#1037533 (ifAlias is not updated on changes)


Version 3.11.5
(released 21 June 2012)

Bugfixes

  * LP#722561  (Netmap:incorrect link load info)
  * LP#1009002 (Unknown orgid parsed from router port description causes
                ipdevpoll inventory job to fail)
  * LP#1010013 (KeyError in ipdevpoll interfaces plugin on devices that have no
                network interfaces)
  * LP#1010018 (IndexToIpException in ipdevpoll Prefix plugin)
  * LP#1012001 (ipdevpoll inventory job fails on WeatherGoose device)
  * LP#1012032 (ipdevpoll inventory job crashes on devices reporting invalid IP
                address netmasks)
  * LP#1012034 (Unknown usageid parsed from router port description causes
                ipdevpoll inventory job to fail)

 Various performance-related improvements:

  * More tweaks to avoid producing unnecessary SNMP queries.

  * Switch port detection on Cisco equipment has been improved


Version 3.11.4
(released 31 May 2012)

 Bugfixes:

  * LP#644155 (Network Explorer never returns response to some searches)
  * LP#912276 (Device History Request-URI Too Large)
  * LP#996955 (All sensor stats are named "Sensor", and clutter the ipdevinfo
               view)
  * LP#997008 (Failed ipdevpoll jobs aren't properly rescheduled)
  * LP#997606 (add option to run each ipdevpoll job type in separate process)
  * LP#997980 (bad MAC for IPv6 addresses from Catalyst 6500)
  * LP#999606 (dhcping is not documented as requirement for DHCP service
               monitor)

 Various performance-related improvements:

  * Internal caching of collected SNMP variables pr. ipdevpoll SNMP session.

  * Various tweaks to avoid producing unnecessary SNMP queries.

  * Added database indexes for some potentially slow and frequently used
    queries.

  * Added ipdevpolld multiprocess option to run each job type as separate
    subprocess (enabling this will consume up to 60 PostgreSQL connections, be
    warned!)

  * An -n option was added to ipdevpolld. Used in combination with the -J
    option, ipdevpoll will run a single job for a single netbox as a
    foreground process.

  * When new jobs are added to the internal ipdevpoll job queues, boxes are
    prioritized in ascending order of last update time.  I.e. ipdevpoll will
    run jobs first for boxes that are new or haven't completed an inventory
    job in a long time.


Version 3.11.3
(released 03 May 2012)

 Bugfixes:

  * LP#912217 (Breadcrumb path missing from Alert Profiles My SMS view)
  * LP#912763 (Alert Profile filter form cannot display more than 300 rooms)
  * LP#929375 (Status page needs an "SNMP Agents Down" listing)
  * LP#929376 (Status page needs a "Links Down" listing)
  * LP#955794 (geomap variant normal, does not finish loading map, and shows no
               rooms or links)
  * LP#961221 (Maintenance task cancel action still visible on cancelled tasks)
  * LP#961996 (Geomap CPU load indication is always red)
  * LP#962087 (IP-hostname search in toolbar translates all numbers as IP-
               addresses)
  * LP#962093 (Report CSV export crashes on non-ASCII data)
  * LP#962146 (Faulty SNMP agent implementations crash SeedDB)
  * LP#965147 (Want clickable "function" column in Reports)
  * LP#965149 (Invalid link to function in Server report)
  * LP#966063 (prefix report, missing argument to machinetracker)
  * LP#966072 (invalid link in Usage report)
  * LP#978618 (KeyError in ipdevpoll psu plugin)
  * LP#979754 (scope prefix is overwritten by lan prefix)
  * LP#983737 (ipdevpoll cam plugin TypeError crash)
  * LP#991714 (Requiring group membership makes LDAP authentication crash for
               first time users)
  * LP#993932 (ipdevpoll LLDP plugin MultipleObjectsReturned exception)

Version 3.11.2
(released 12 Apr 2012)

 Bugfixes:

  * LP#939429 (throttle linkState events)
  * LP#962939 (navtopology crashes when router trunks exist)
  * LP#965972 (neighbor identification via sysname is case sensitive)
  * LP#968917 (ipdevpoll UnicodeDecodeError when storing unidentified LLDP
               neighbors)
  * LP#969069 (ipdevpoll.log fills up with snmp_open errors)
  * LP#972211 (Switch ports not discovered on Gbe2c switches)
  * LP#972363 (statically configured bridge forwarding entries aren't collected
               for machine tracking)
  * LP#972442 (ipdevpoll profiling job crashes with IntegrityError)
  * LP#979737 (throttle snmpAgentState events)
  * LP#979791 (ipdevpoll LLDP plugin crash with AttributeError)

Version 3.11.1
(released 22 Mar 2012)

 User-visible features and improvements:

  * Unrecognized neighbors report is now back, with improved information and
    populated with source data from both CDP and LLDP.

  * Running out of available file descriptors while opening SNMP sockets is
    logged more informatively.

  * ipdevpoll will not run jobs unnecessarily for devices whose SNMP agents
    are known to be down.

 Bugfixes:

  * LP#890142 (sysname is not updated from DNS for non-SNMP devices)
  * LP#953967 (Don't store router port addresses for shutdown ports)
  * LP#954766 (CDP plugin crashes with AttributeError on some devices)
  * LP#955087 (Geomap fails to draw map after OpenStreetMap shut down tiles@home
               server)
  * LP#955789 (sc.03.11.0004.sql fails on PostgreSQL 9)
  * LP#955808 (navtopology ValueError: need more than 1 value to unpack)
  * LP#955861 (ipdevpoll topo job IntegrityError)
  * LP#956772 (navtopology doesn't delete unused vlan records)
  * LP#956904 (ipdevpoll creates unusable Vlan records)
  * LP#956910 (ipdevpoll is unable to detect cisco router trunks properly)
  * LP#956955 (mcc.py creates sensors configuration for netboxes that have no
               SNMP community)
  * LP#959081 (Error in IP filter causes AlertEngine to crash)
  * LP#959156 (ipdevpoll AttributeError: LoggerAdapter instance has no attribute
               'warn')
  * LP#961123 (ipdevpoll topo job UnboundLocalError in neighbor processing)
  * LP#961206 (Non-conformance to IPV6-TC in IPV6-MIB causes inventory job
               crash)
  * LP#961238 (ipdevpoll topo job crash when storing blocked ports for some
               Procurve switches)
  * LP#961566 (FieldDoesNotExist error in ipdevpoll: ifoperstatus_change)
  * LP#961573 (ipdevpoll ValueError: u'1.3' is not a valid sysObjectID)

Version 3.11.0
(released 08 Mar 2012)

 User-visible features and improvements:

  * LLDP support for improved topology detection.

  * getBoksMacs replaced by ipdevpoll plugins in `topo` job.

  * Q-BRIDGE-MIB now also used when collecting switch forwarding tables,
    meaning improved machine tracking data for switch vendors like HP, Juniper
    and Alcatel.

  * The Machine Tracker's IP search form has consolidated the `To` and `From`
    IP address search fields into a single `IP Range` search field with
    extended search syntax for ranges of IP addresses.  See LP#643544 for
    details.

  * ipdevpoll can now be made to run single job configurations from
    ipdevpoll.conf, to run in the foreground, and to log to stderr instead of
    its log file.

  * ipdevpoll will reset its log levels from logging.conf upon receiving a
    SIGHUP signal.

  * ipdevpoll will log the currently active polling jobs upon receiving a
    SIGUSR1 signal.


Version 3.10.4
(released 08 Mar 2012)

 Bugfixes:

  * LP#947080 (Netbox attributes aren't updated when modules are found)

Version 3.10.3
(released 01 Mar 2012)

 Bugfixes:

  * LP#906849 (Status page does not show current IP devices down)
  * LP#936926 (mcc registers sensors RRD files in wrong directory)
  * LP#937622 (a device's supported snmp version is never updated)
  * LP#937677 (type, device and various other attributes aren't updated)

Version 3.10.2
(released 09 Feb 2012)

 Bugfixes:

  * LP#258298 (Service alerts aren't closed on service deletion)
  * LP#392022 (Incorrect IPv4 net address prefix link in Subnet matrix)
  * LP#744930 (vlan report for closed vlans is empty)
  * LP#744933 (IP range searches in radius accounting tool ignores timestamp)
  * LP#912210 (pping crashes when its PID is >= 32768)
  * LP#912219 (Network explorer incomplete domain names)
  * LP#920882 (moduleDown alerts reference affected module only as "$module")
  * LP#920886 (Status page doesn't show modules down)
  * LP#922566 (SQL syntax errors from getBoksMacs on PostgreSQL 9.1)
  * LP#922586 (Cisco 1900 switches cause getBoksMacs SNMP walks to go into
               infinite loops)
  * LP#922616 (report system behaves badly if accessed without a trailing slash
               in url)
  * LP#923641 (Fan outage on HP devices never reported)
  * LP#925928 (HP Virtual Connect Ethernet modules report crazy MAC addresses,
               making getBoksMacs spew SQL errors)
  * LP#925956 (link from organization report to prefix report crashes report
               page)
  * LP#928754 (Installing database on PostgreSQL 9 fails)


Version 3.10.1
(released 05 Jan 2012)

 Bugfixes:

  * LP#903096 (Ampersand in organization id crashes ipdevinfo)
  * LP#904605 (netboxinfo subcat column links to a failing page)
  * LP#906763 (SyntaxError in powersupplywatch.py on Python < 2.6)
  * LP#906845 (Status on front page shows device on maintenance as down)
  * LP#906850 (Alert Profiles NoReverseMatch error under Django 1.3)
  * LP#907193 (COMMIT/ROLLBACK error after deleting device (Django 1.3))
  * LP#907204 (seeddb crashes while adding an already existing switch)
  * LP#907741 (NAV 3.10 pping inaccurately reports multitudes of devices as down
               when pinging self)
  * LP#907772 (navtopology crashes with TypeError)
  * LP#910849 (ipdevpoll wastes time and I/O bandwidth with unnecessary SQL
               UPDATEs)
  * LP#910855 (navtopology doesn't avoid multiple instances)
  * LP#911684 (radius accounting log crashes when searching)
  * LP#911786 (servicemon stops sending events)


Version 3.10.0
(released 16 Dec 2011)

 User-visible features and improvements:

  * VLAN subtopology detection has been rewritten to Python. The old
    networkDiscovery Java program is now deprecated.

  * Alerts when SNMP agents stop responding.

  * Alerts on power failure SNMP traps from UPS units. UPS-MIB (RFC 1628) and
    proprietary MIBs from Eaton Corporation, APC and MGE are supported.

  * Configurable port link status monitoring and alerting in ipdevpoll,
    independent of SNMP trap configuration.

  * Alerts on redundant power supply and fan failures on Cisco and HP devices.

  * Statistics from all environment sensors (such as temperature, humidity,
    light, sound, etc.) detectable through either ENTITY-SENSOR-MIB (RFC
    3433), CISCO-ENVMON-MIB or IT-WATCHDOGS-MIB (IT Watchdogs WeatherGoose)
    are now collected via Cricket.

  * pping can now ping IPv6 hosts.

  * ipdevinfo and Machine Tracker now perform bulk DNS lookups in parallel,
    improving page load times when DNS is slow.

 Bugfixes:

  * LP#744940 (geomap should default to a sensible start map)
  * LP#894727 (No server software versions since NAV 3.5)


Version 3.9.4
(released 16 Dec 2011)

 Bugfixes:

  * LP#898992 (ipdevinfo displays all ports as blocking whereas stpblock report
               confirms that they're not)
  * LP#900723 (No SW version on Cisco 4506E L3 switch)
  * LP#900779 (smsd crashes when discarding non-dispatchable messages with non-
               ASCII chars)
  * LP#901623 (mcc does not update maximum threshold value for interfaces)
  * LP#903128 (servicemon/pping opens a new connection on any database error)
  * LP#903681 (room report should include position)
  * LP#904178 (smsd removes permanently failed dispatchers even when it should
               ignore permanent failures)

Version 3.9.3
(released 01 Dec 2011)

 Improvements:

  * Using the `-d` option with cleanrrds.py will now also remove references to
    stale availability and response time RRD files from NAV's database.  This
    should help against the "Availability: N/A" issue seen by some in
    ipdevinfo, whereas bugfixes to pping should prevent it from creating new
    entries while leaving stale ones in the future.

 Bugfixes:

  * LP#586334 (HTTPS service checker doesn't work with Python 2.6)
  * LP#744958 (ranked stats config file should default to mbit/s)
  * LP#888056 (MacWatch GUI crashes if the input of the MAC address is invalid)
  * LP#891542 (Add option to make smsd ignore "permanent" dispatch errors)
  * LP#891568 (logengine cron mail complains: global name 'ENOENT' is not
               defined)
  * LP#893591 (pping crashes when rrd files already exist)
  * LP#897175 (ipdevpoll stops polling a device whose type is yet unregistered)
  * LP#897194 (NameError when adding IP device in SeedDB)
  * LP#898128 (Trying to seed - when going to USAGE crash)


Version 3.9.2
(released 17 Nov 2011)

 Bugfixes:

  * LP#300708 (Improve the link up/down trap plugin to include description)
  * LP#338696 (Postgresql service checker is actually a port checker)
  * LP#787957 (No trunk information on H3C switches)
  * LP#802408 (Lowercase cricket rrd file not found when sysname has uppercase
               letters)
  * LP#854696 (Adding a new filter or new filter group in Alert Profiles fails)
  * LP#858055 (Creating a new maintenance task with ÆØÅ in description fails)
  * LP#862208 (No cricket stats for directories "routers" and "switches" in
               cricket)
  * LP#865292 (HTTP service checker ignores query string)
  * LP#890190 (linkstate trap handler does not work)
  * LP#890607 (Set supervisor SW version as chassis SW version on Cisco devices)
  * LP#891090 (pping creates multiple RRD files for same data, causing ipdevinfo
               to display availability as N/A)


Version 3.9.1
(released 12 Aug 2011)

 Bugfixes:

  These two bugs were actually fixed in 3.9.0, but were omitted
  from the changelog:

  * LP#737102 (Trying to add a prefix that already exists yields an
               error, but an entry (without the prefix) is added to 
               vlan-table)
  * LP#771677 (the delete button on seeddb/prefix is missing)


  * LP#643469 (Status history link URL is ridiculously long)
  * LP#643472 (Device history search results lack context)
  * LP#643544 (Partial fix for: Flexibility when entering ip address in 
               machine tracker)
  * LP#726545 (SeedDB should verify SNMP write community)
  * LP#751302 (Change the name for prefix matrix to "Subnet matrix")
  * LP#754602 (seeddb: improve Move Selected)
  * LP#790178 (pping can crash if clock is adjusted backwards)
  * LP#804869 (Interface-URL in 'machinetracker' yields 404)
  * LP#817201 (network discovery vlan index fault)


Version 3.9.0
(released 01 Jul 2011)

 User-visible features and improvements:

  * WeatherGoose snmptrapd plugin now also supports WeatherGoose II traps.
  * Added portname information to port listings in Arnold.

 Bugfixes:

  * LP#736905 (Changing a vendor id creates a new vendor instead)
  * LP#749376 (Seed DB: Bulk import for room should require location and allow
               position)
  * LP#787986 (No information collected for devices of unknown type)
  * LP#789005 (Config option for portadmin to turn off authorization)
  * LP#790600 (ARP records aren't closed when router goes down)
  * LP#791146 (oidprofiler job fails under TwistedSNMP)
  * LP#791150 (ipdevpoll doesn't work with pynetsnmp installed on Debian Lenny)
  * LP#791222 (ipdevpoll fails under pynetsnmp 0.28.8 / Debian Lenny)
  * LP#794511 (navtopology crashes with error "can't adapt")
  * LP#797143 (unrecognizedCDP report links to removed ipinfo app)
  * LP#797576 (web login crashes on first-time login for LDAP user)
  * LP#798146 (Lots of data aren't collected when using TwistedSNMP)


Version 3.9.0b1
(released 20 May 2011)

 User-visible features and improvements:

  * NAV's threshold monitoring feature has finally been completed - Threshold
    Manager is a new web tool that allows adjusting threshold values for
    individual statistical data sources.  Alerts generated by the threshold
    monitor can be subscribed to in users' alert profiles.

  * MAC Watch is a new web tool that maintains a watch list of MAC addresses.
    Whenever a watched MAC address appears on your network, NAV will send an
    alert that can be subscribed to.

  * ipdevpoll can now retrieve VLAN configuration from Extreme Networks
    devices.

  * ipdevpoll can now optionally use the pynetsnmp library as an alternative
    to the TwistedSNMP/PySNMP combination.  pynetsnmp is a ctypes binding to
    the well-known NetSNMP library, and should noticeably improve performance
    if used.

  * Layer 2 topology discovery has been rewritten from scratch, due to both
    problems with the results of the old discovery code and problems with
    maintaining the old code.

 Bugfixes:

  * LP#739718 (ifName should be derived from baseport number if not available)


Version 3.8.6
(released 20 May 2011)

 Bugfixes:

  * LP#777821 (ipdevpoll crash on IPv4 addresses in IP-MIB::ipAddressTable)
  * LP#778422 (No router addresses collected on a Cisco Nexus 7000)
  * LP#782161 (Only IPv6 client addresses collected on some routers)

Version 3.8.5
(released 14 April 2011)

 Bugfixes:

  * LP#745616 (edit vlan in seeddb needs improvement)
  * LP#745620 (change text descriptions in seeddb)
  * LP#746381 (Add a report to display all collected interfaces, regardless of
               type)
  * LP#747104 (Missing interfaces are left lingering in the database)
  * LP#748852 (Avoid using the word "handler" in SeedDB/Service)
  * LP#749502 (Seed DB: Indicate required fields with an asterisk)
  * LP#751310 (Not possible to add a function when adding a new ip device)

Version 3.8.4
(released 31 March 2011)

 Bugfixes:

  * LP#415376 (Log more info about cause of blacklisting alertengine plugins)
  * LP#723362 (Edit IP Device - feature request for delete button)
  * LP#726545 (SeedDB should verify SNMP write community)
  * LP#735513 (seeddb room main view missing position column)
  * LP#735514 (Configuring VLAN on a Cisco switch gives SNMP error)
  * LP#735516 (parentheses shouldn't be required for geo coordinates in SeedDB)
  * LP#735519 (Modulecount link from type report fails)
  * LP#735935 (Missing columns and wrong column titles in SeedDB's IP Device
               list)
  * LP#735958 (Arnold crashes when deleting a quarantine vlan)
  * LP#736899 (PortAdmin cannot find VLANs on Cisco switches if vendor id has
               changed to anything but lowercase 'cisco')
  * LP#738609 (Intermittent EOFError in web pages)
  * LP#740017 (crash when attempting to create alert profile from template)
  * LP#740849 (inventory job keeps going on after device removal from seeddb)
  * LP#741573 (t1000.py KeyError crash when following up detentions)
  * LP#744839 (Login page crash when LDAP manager_password contains % chars)


Version 3.8.3
(released 15 March 2011)

 Bugfixes:

  * LP#730524 (ipdevpoll oidprofiler says all OIDs are a match)
  * LP#731252 (ipdevpoll leaks memory on database exceptions)
  * LP#731318 (radius accounting page crashes when user has non-ASCII  chars in
               username)
  * LP#733115 (pping crashes when re-creating RRD files)
  * LP#733152 (inventory job fails on IntegrityError on internal module swap)
  * LP#735365 (Cannot add top-level organizations)


Version 3.8.2
(released 3 March 2011)

 - This maintenance release fixes compatibility with newer versions of Django
   and Cheetah.

 - Changelog for 3.8.1 forgot to mention the addition of a new "offline
   devices" report.  The report lists serial numbers of devices known to NAV,
   but now appear to have been shelved.

 - NOTE: Users on upgraded installations should update their status
   preferences.  A missing setting in the default preferences assigned to all
   new users would cause the status system to not display devices on
   maintenance in the "maintenance" section unless they were actually down or
   in shadow (as described in LP#723688). 

   After the upgrade, go to `Status` -> `Preferences` -> `IP Devices on
   Maintenance` and add `Up` to the list of states to display.  This choice
   was previously not enabled.

 Bugfixes:

  * LP#591602 (Endtime in maintenance period overwritten by a shorter
               maintenance period)
  * LP#720669 (can't add components to maintenance task when existing
               components have been deleted)
  * LP#721270 (CSRF Verification Fails on Django 1.2)
  * LP#721273 (Multiple NAV pages crash on non-ASCII chars under Cheetah 2.4)
  * LP#723619 (Maintenance crashes when adding multiple netboxes to a task)
  * LP#723688 (Status doesn't show devices on maintenance)
  * LP#724266 (MachineTracker inactive search says all IPs are inactive)
  * LP#724322 (netbox.uptodate is not altered when saving in seeddb)
  * LP#726402 (Rooms should be listed alphabetically when editing IP devices)
  * LP#726472 (portadmin should report error when snmp write is not available)
  * LP#726524 (prefix net type classification may be wrong on first discovery)
  * LP#728336 (`nav version` cannot find version information in NAV 3.8)


Version 3.8.1
(released 17 February 2011)

 Bugfixes:

  * Various problems with the 3.8 build/install system, discovered during
    Debian packaging.

  * LP#618555 (alert addresses are not validated by alert profiles ui)
  * LP#646708 (ipdevpoll fails to shutdown)
  * LP#667771 (LDAP fallback to local password authentication regression)
  * LP#715801 (Wrong gwcount in prefix report)
  * LP#715807 (Prefix net types are wrongly classified when single router has
               multiple addresses)
  * LP#715851 (Missing config files during 3.8.0 install)
  * LP#717144 (problem adding position cords on room)
  * LP#719232 (AlertEngine crash error: filter() argument after ** must be a
               dictionary)
  * LP#720024 (logengine crashes when message contains : characters)


Version 3.8.0
(released 3 February 2011)

 User-visible features and improvements:

  * The database schema can now be kept updated automatically using the new
    `syncdb.py` program. Please see the `NOTES` file, and run the program as
    soon as you've upgraded.

  * NAV can now configure descriptions and access VLANs on your switch ports
    when an SNMP write community is set for a switch.  This functionality is
    accessible through the IP Device Info tool.

  * SeedDB has been rewritten to use the Django framework (and has
    subsequently been reduced from nearly 5000 lines of spaghetti code to just
    below 2000 maintainable lines).

  * The number of concurrent ipdevpoll jobs can now be limited on a per-job
    basis, to ease the load on your system if so desired. See the annotated
    `ipdevpoll.conf` file.

 Bugfixes:

  * LP#643550 (Include ipdevinfo links in switch search in machine tracker)
  * LP#545029 (SmbChecker runs out of available file descriptors)


Version 3.7.4
(released 27 January 2011)

 Bugfixes:

  * LP#645892 (report: csv export does not export full report)
              This wasn't properly fixed in 3.6.0.
  * LP#702796 (Syntax error in HttpChecker.py)

Version 3.7.3
(released 13 January 2011)

 Bugfixes:

  * LP#537220 (logengine ignores seconds from timestamps)
  * LP#562242 (Prefix matrix crashes when viewing IPv6 scope)
  * LP#689629 (ipdevinfo crashes on IP addresses on VLANs that have no VLAN ID)
  * LP#691571 (old serial no association should be cleared when ip device is
               replaced with new hardware)
  * LP#692580 (delete location crashes)
  * LP#692997 (Machine tracker crashes due to limitations in allowed interface
               names)
  * LP#701451 (snmptrapd fails to decode certain SNMPv1 traps)
  * LP#701453 (snmptrapd fails to parse SNMPv2 traps from WeatherGoose)
  * LP#702257 (alertengine crashes after alert profile is deleted)

 Improvements:

  * if loglevels are set to DEBUG, ipdevpoll will now log full details of
    stackframes when unhandled errors occur.

Version 3.7.2
(released 23 December 2010)

 Bugfixes:

  * LP#586334 (HTTPS service checker doesn't work with Python 2.6)
  * LP#649761 (ipdevinfo does not show router port IPs/prefixes)
  * LP#649767 (ipdevpoll should be able to exclude prefixes via configuration)
  * LP#692959 (ipdevpoll doesn't delete extinct router addresses)


Version 3.7.1
(released 07 December 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release fixes bugs in the NAV database schema. If you are  ##
## upgrading from a previous release you also need to upgrade your ##
## schema. For information on how to do this, please take a look   ##
## in doc/sql/upgrades/README .                                    ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * LP#674433 (ipdevpoll: local variable 'obj_model' referenced before
               assignment)
  * LP#674466 (Room coordinates can't be edited in NAV 3.7.0)
  * LP#675532 (ipdevinfo crash on Nortel interfaces)
  * LP#675543 (ipdevinfo crash: could not identify an ordering operator for
               type point)
  * LP#678436 (SeedDB crashes on unknown IntegrityErrors during delete)
  * LP#686435 (Queued alerts prevent IP devices from being deleted)

  * The installation documentation had grown stale and has now been revised.


Version 3.7.0
(released 11 November 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Features:
  * Geomap is a new tool that displays a network traffic map geographically,
    using OpenStreetMap data.
  * LDAP authentication now also works for Active Directory.
  * The user administration tool allows administrators to act as other users in
    the web interface, useful for troubleshooting alert profiles or privilege
    issues.
  * ipdevpoll now enables the psyco JIT-optimizing compiler if available.
  * New "Direct neighborship candidates" report, useful for debugging issues
    with topology detection.

 Bugfixes:
  * LP#671385 (ipdevpoll - DataError: invalid byte sequence for encoding
               "UTF8": 0x89)
  * LP#672444 (SeedDB crash when updating IP device whose serial has changed to
               a duplicate)
  * LP#666195 (Arnold error on port quarantine)


Version 3.6.3
(released 04 November 2010)

 This release fixes a regression introduced by version 3.6.2.

 Bugfixes:

  * LP#670947 (logengine crashes and spams admin once every minute)

Version 3.6.2
(released 04 November 2010)

 Bugfixes:

  * LP#609105 (Alertengine mailbombs error with insufficient info)
  * LP#638745 (logengine: TypeError: int argument required)
  * LP#666761 (ipdevpoll integrity error on serial number conflicts)
  * LP#667182 (MachineTracker details link leads to 404 Page Not Found)
  * LP#670817 (SeedDB crash when editing services)
  * LP#670832 (dump.py crashes when attempting to dump obsolete product table)
  * LP#670833 (dump.py produces invalid prefix dump)

Version 3.6.1
(released 25 October 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Features:

  * ipdevpoll does not unnecessarily use database transactions any more.

 Bugfixes:

  * LP#656870 (report cells that were previously empty now say "None")
  * LP#658251 (3.6.0 mcc character encoding)
  * LP#659012 (ipdevpoll errors on non UTF-8 or ASCII in user-configured values)
  * LP#659196 (ipdevpoll IntegrityError: null value in column "ifindex"
               violates not-null constraint)
  * LP#659760 (mcc creates invalid config for interfaces with spaces in name)
  * LP#659786 (smsd gammudispatcher UnicodeDecodeError)
  * LP#660975 (ipdevpoll removes sysname when reverse lookup contains no PTR
               records)
  * LP#660992 (AlertEngine crashes with message: 'NoneType' object has no
               attribute 'end_time')
  * LP#660993 (smsd crashes on SIGHUP)
  * LP#661008 (Alert Profiles: Cannot add filter expressions that match text)
  * LP#661028 (Arnold crashes with 'ValueError: invalid literal' when blocking
               a mac address)

Version 3.6.0
(released 07 October 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Features:

  * ipdevpoll performance gains.
  * more debug logging options for ipdevpoll time statistics and job status.
  * improved ipdevpoll handling of renumbered ifindexes.
  * more graceful handling of DNS errors in ipdevpoll dnsname plugin.

 Bugfixes:

  * LP#633126 (netmap shows wrong topology for switches)
  * LP#643340 (Schedule maintenance doesnt pick up boxname)
  * LP#643474 (Location context lost when refining device history search)
  * LP#644142 (Maintenance crash when adding location or room components)
  * LP#644985 (Netmap doesn't link properly to IP Device Info)
  * LP#645892 (report: csv export does not export full report)
  * LP#646602 (ipdevpoll fails on Python 2.4)
  * LP#646607 (Fatal UnboundLocalError in snmptrapd under Python 2.4)
  * LP#648658 (AttributeError at /status/ - nav-3.6.0b6)
  * LP#648687 (Netmap does not show link traffic in 3.6 betas)
  * LP#649624 (eventEngine InvocationTargetException)
  * LP#649635 (report crashes on international characters in org, location)
  * LP#649636 (Duplicate interfaces after upgrade disrupt ipdevpoll)
  * LP#649640 (Interfaces with migrated OSPF metrics cannot be deleted)
  * LP#650976 (ipdevpoll : Save stage failed with unhandled AttributeError)
  * LP#655564 (NameError at /ipdevinfo/svitsj.foo.tld/)
  * LP#656263 (getBoksMacs is unable to find interfaces corresponding
               to CDP data)

Version 3.6.0b6
(released 23 September 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * LP#590765 (Accounting log in radius-module crashes when clicking on
               details-link)
  * LP#627352 (mcc.py crashes with NameError)
  * LP#627358 (ipdevpoll crashes with TypeError on Python 2.4)
  * LP#628012 (ipdevpoll crashes with SyntaxError on Python 2.4)
  * LP#628023 (ipdevpoll crashes with TypeError during exception handling
               under Python 2.4)
  * LP#628058 (invalid link to netbox report from vendor report ipcount column)
  * LP#632289 (All modules listed as "None" in ipdevinfo)
  * LP#633974 (ipdevpoll IntegrityError when using uppercase in
               NTNU-convention router port descriptions)
  * LP#634944 (Maximum recursion depth exceeded in ipdevpoll)
  * LP#634951 (ipdevpoll exception logging masks unhandled exceptions' origin)
  * LP#634958 (ipdevpoll: object of type 'NoneType' has no len())
  * LP#639604 (ranked statistics ignores 64-bit traffic counters)
  * LP#641315 (portname search from report overview page fails)
  * LP#643381 (Changing user's name resets password)
  * LP#643467 (Color legend for switch port activity always says "30 days")
  * LP#644161 (Network Explorer search requests fail with
               AttributeError/FieldError)
  * LP#644219 (Netmap UnicodeDecodeError)
  * LP#644339 (Router port count in report to high)
  * LP#644340 (invalid link from report swport (Module-link))
  * LP#644342 (Failing search forms in report front page)
  * LP#645144 (Status page ERROR: operator does not exist: integer = text)

Version 3.6.0b5
(released 26 August 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Features:

  * ipdevpoll:
    - properly handle IP device type changes.
    - improved vlan/prefix handling.
    - no longer idles forever inside database transactions.

 Bugfixes:

  * LP#562242 (Prefix matrix crashes when viewing IPv6 scope)
  * LP#595796 (csv export does not work)
  * LP#596863 (remove deprecated database table fields)
  * LP#601001 (prefix report from IP address scope breaks)
  * LP#603585 (Link to machine tracker from ipdevinfo missing)
  * LP#623826 (extract_cricket_oids crashes on parsing cricket-conf.pl)

  * Checkboxes in seeddb interface would never be checked as they should be on
    page loads.
  * After having introduced continuous integration into our workflow, many
    small problems have been detected and fixed.


Version 3.6.0b4
(released 08 July 2010)

 Features:
  * The SMS daemon will now increase the delay between retries when SMS
    dispatch fails.  This should decrease the amount of spam from smsd when
    there are transient GSM failures.
  * ipdevpoll will now naively report module outages.
  * On timeouts and failures, ipdevpoll will reschedule jobs within 60 seconds.

 Bugfixes:

  * LP#537166 (Community indexing used for non-Cisco devices)
  * LP#589046 (ranked statistics displays no message when no results were
               found)
  * LP#595797 (link incident count in avail report to incidents)
  * LP#596852 (extract_cricket_oids.py uses the first result for "gConfigRoot"
               even if it's a comment)
  * LP#597569 (servicemon continues to monitor services removed from SeedDB)
  * LP#598104 (non-django web systems missing account context objects in
               templates)
  * LP#598111 (login page doesn't do utf-8)
  * LP#598362 (cam table not equipped for module names, getBoksMacs fails on
               insert)
  * LP#598426 (arnold presents active as 9999-12-31 23:59:59)
  * LP#598437 (mcc.py fails to move rrd file)
  * LP#598508 (smsd dies because of incorrect DB API usage)
  * LP#599260 (getBoksMacs SQL syntax error during interface update)
  * LP#600193 (duplicate ifindexes on migrated data cause ipdevpoll job fail)


Version 3.6.0b3
(released 24 June 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * LP#338655 (DNS checker doesn't report version)
  * LP#502877 (Default Location and Organisation in install)
  * LP#567840 (missing alertmsg.conf for cisco AP trap)
  * LP#589033 (SQL syntax errors in Arnold)
  * LP#591671 (snmptrapd only supports pysnmp2)
  * LP#593555 (Setting for default smtp-server)
  * LP#593645 (Arnold sends all e-mail to author's hard-coded address)
  * LP#595943 (ipdevpoll IntegrityError on insert/update to vlan table)
  * LP#595944 (ipdevpoll TypeError: unsupported operand type(s) for /:
               'NoneType' and 'float')
  * LP#596813 (Adding a new netbox crashes)
  * LP#596841 (Multiple vlans returned on lookup cause ipdevpoll crash)
  * LP#596857 (ipv6 prefixes are not collected for some Cisco devices)
  * LP#597579 (db trigger causes deadlocks in ipdevpoll)
  * LP#597589 (ipdevpoll does not check for interface mac address validity)

Version 3.6.0b2
(released 10 June 2010)

  * LP#567840 (missing alertmsg.conf for cisco AP trap)
  * LP#588270 (Error: 'column "to_intefaceid" of relation "swp_netbox" does not
               exist' in getBoksMacs)
  * LP#588669 (Switch port statistics are lost on upgrade to NAV 3.6.0b1)
  * LP#588676 (migrate_cricket.py says "No such file", with no indication of
               what file is missing)
  * LP#588700 (snmptrapd dies when using psycopg 2.0.7)
  * LP#588742 (pysnmp2 and pysnmp-se conflict)
  * LP#589087 (getBoksMacs error: column "swportid" does not exist)
  * LP#589597 (ipdevpoll not installed during regular make install)
  * LP#590747 (ipdevpoll leaks memory)
  * LP#591244 (ipdevpoll idles in transactions)

Version 3.6.0b1.1
(released 26 May 2010)

 An update to the b1 release with corrections to the database schema
 initialization and upgrade scripts, some of which were missing from the
 previous release.

 Bugfixes:

   * LP#585535 (manage.sql script broken in 3.6.0b1)
   * LP#585539 (DB upgrade script missing from 3.6.0b1)

Version 3.6.0b1
(released 21 May 2010)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes substantial changes to the NAV database. If  ##
## you are upgrading from a previous release you also need to      ##
## upgrade your database schema. For information on how to upgrade ##
## the database schema, please take a look in                      ##
## doc/sql/upgrades/README . See also the release NOTES for more   ##
## upgrade info.                                                   ##
##                                                                 ##
#####################################################################

 New features and improvements:

  * Main SNMP collector rewritten from scratch, using Python.  The new design
    specifically avoids Cisco-centric assumptions, and should improve equipment
    support over time.

  * Various improvements to the data model:

    - All interfaces are now registered in the same table.  Switch ports have
      switch port numbers, while router ports have (layer 3) IP addresses
      attached.  Interfaces of seemingly other categories are also registered.

    - Allows interfaces to relate directly to an IP device.  This also means
      that NAV will no longer create fake modules for chassis-only devices.

    - Modules are now identified by textual names, not integers.  This is to
      support vendors that do not necessarily number modules.

  * MailIn, a framework for parsing e-mail alerts from third party systems and
    injecting events into NAV's event and alert queue.

  * Enhanced report tool flexibility.  Reports now support any valid
    PostgreSQL statement.

  * The report tool can now export results to downloadable CSV files.

  * Added a simple availability report summarizing all downtime during the last
    month.

  * Ignoring resolved alerts is now supported when queueing alerts in an alert
    profile.

  * The defunct device management tool has been replaced by a pure Device
    history tool.

  * The IP Info tool has been merged into the IP Device Info tool.

  * The Machine Tracker has been rewritten using Django.

  * Makecricketconfig has been rewritten in Python, and allows for more
    flexibility in configuring Cricket for statistics collection.

  * forgetSQL and psycopg1 dependencies have been removed.

 Bugfixes:

  * LP#483524 (Arnold: Make mistaken enabling of ports less likely)
  * LP#425700 (Arnold mac-search)
  * LP#411817 (logengine shouldn't delete messages on every run)
  * LP#393471 (Maintenance engine does not post on event queue)
  * LP#333208 (Unable to rename parent organizations)


Version 3.5.6
(released 07 April 2010)

Bugfixes:

  * LP#538001 (Inconsistency in ARP records)
  * LP#540213 (Confusing debug output in Alert Profiles)
  * LP#451933 (getBoksMacs SQL error: "insufficient data left in message")
  * LP#390577 (Wrong network sort order in prefix report)
  * LP#550738 (createdb.sh fails to set schema search path)
  * LP#551499 (Cricket cron job fails when using default autconf settings)

Version 3.5.5
(released 16 February 2010)

Bugfixes:

  * LP#383854 (Netmap RRD-values does not look for high speed data)
  * LP#390606 (Radius-GUI menu-tabs doesn't show)
  * LP#392475 (No such file or directory: '/etc/nav/rrdBrowser.conf')
  * LP#395091 (cleanrrds.pl does not support timeformat from gfind)
  * LP#395185 (Adding new components to a existing maintenance task forces you
               to create a new task)
  * LP#410168 (Alert Profiles crashes on filter deletion)
  * LP#412996 (Invalid Reports URL after login)
  * LP#416833 (Switch port report's links to machinetracker are faulty)
  * LP#419750 (Multiple Cheetah templates fail to compile due to wrong
               encoding)
  * LP#436589 (Radius link to session-details lead to wrong session)
  * LP#450279 (UnboundLocalErrors cause smsd crash)
  * LP#485725 (uninettmaildispatcher plugin throws python NameError on SMTP
               server error)
  * LP#485785 (Alertengine requires SMTP server on localhost)
  * LP#492188 (Missing 404.html - Django error in NAV-3.5.4)
  * LP#494036 (AlertEngine does not handle inconsistent database state)
  * LP#515400 (Jabber dispatcher blocks due to hanging jabber-server blocking
               alertengine)
  * LP#520505 (Alertengine reinitialises handlers for every send)

Version 3.5.4
(released 14 May 2009)

Regressions:

  * LP#376430 (Web login fails under Python >= 2.5)


Version 3.5.3
(released 13 May 2009)

New feature:

  * getBoksMacs (the camlogger) will attempt to retrieve the list of active
    VLANs on a Cisco device directly, to ensure it has an updated and accurate
    list of separate forwarding databases.  This should mostly solve the
    problem described in the currently last question of the NAV FAQ.

Bugfixes:

  * LP#276248 (Small css rendering bug in MachineTracker)
  * LP#324769 (netmap: lines do not terminate on the router)
  * LP#338638 (DC service checker doesn't work)
  * LP#338649 (DNS service checker doesn't work)
  * LP#338715 (RPC service checker doesn't work)
  * LP#338725 (SMB service checker doesn't work)
  * LP#341575 (ipdevinfo service list crashes)
  * LP#344140 (dnsMismatch shown as Downtime in IP Device Info)
  * LP#345783 (IP Device Availability shown as N/A, should be 100%)
  * LP#345853 (DataIOExceptions from Netmap when using Windows)
  * LP#347226 (AlertEngine mailbombs: AlertQueueMessage matching query does
               not exist)
  * LP#347776 (logengine crash on log messages with years in their timestamps)
  * LP#348853 (AttributeError on Alert Profiles permissions page)
  * LP#348892 (AlertEngine fails to confirm SMS privilege for non-admin users)
  * LP#351499 (Advanced search in reports crashes in Internet Explorer)
  * LP#352236 ("Delete selected" button on My SMS page, but there's nothing to
               delete.)
  * LP#352316 (Servicemon dies without a trace)
  * LP#353121 (No alert information when alerttype is missing from
               alertmsg.conf)
  * LP#366032 (Service availability shown as N/A, should be 100%)


Version 3.5.2
(released 17 March 2009)

 Security fixes:

  * LP#340516 (XSS on login-page)
  * LP#340542 (Possible XSS in Arnold)

 Bugfixes:

  * LP#285349 (ranked stat should include router ports)
  * LP#285352 (ranked stat sysuptime does not provide link to cricket)
  * LP#319590 (Cannot delete quarantine vlans in Arnold)
  * LP#319594 (Duplicate quarantine vlans can be registered in Arnold)
  * LP#334789 (Arnold crash when enabling missing port)
  * LP#341099 (Most alerts queued for daily or weekly dispatch are
               never dispatched)
  * LP#341561 (Servicemon crashes when service checker init fails)
  * LP#341617 (DummyChecker crashes servicemon in NAV 3.5.1)
  * LP#341619 (PostgreSQLChecker crashes servicemon in NAV 3.5.1)
  * LP#341733 (Multiple simultaneous pping processes)

Version 3.5.1
(released 09 March 2009)

Bugfixes:

  * LP#285362 (netmap: link to ipdevinfo port view on links)
  * LP#290192 (getBoksMacs syntax error SQLExceptions)
  * LP#322328 (Netmap backend fails when nav session id is missing)
  * LP#323087 (Parsing of VLAN routing interfaces is case sensitive)
  * LP#328451 (snmptrapd idles in db transactions)
  * LP#328544 (a hyphen in the organisation name results in an exception in
               useradmin)
  * LP#328959 (AlertEngine errormail storm on empty alert address)
  * LP#330058 (TypeError in IP Device Info)
  * LP#330062 (NullPointer and DataIOExceptions from Netmap)
  * LP#330425 (Undocumented dependency to python-xmpp)
  * LP#330426 (AlertEngine mailbombs admin on plugin failure)
  * LP#330436 (AlertEngine Jabber plugin crashes on missing config)
  * LP#330464 (Alerts sent outside of timeperiod)
  * LP#330513 (NameErrors in t1000.py)
  * LP#330914 (ipdevinfo crashes when room or org id contains spaces)
  * LP#330981 (SMTP service checker effectively DOSes SMTP server)
  * LP#335326 (Multiple simultaneous servicemon processes)
  * LP#335412 (Missing port number results in no Cricket stats for port)
  * LP#335462 (Status page crashes under PostgreSQL 8.3)
  * LP#335474 (Duplicate alerts sent to same address)
  * LP#337220 (smsd and snmptrapd don't clean up their pidfiles)
  * LP#337694 (radiusparser crash with UnboundLocalError)
  * LP#338254 (AlertEngine crashes when profile with queued alerts is
               deactivated)


Version 3.5.0
(released 22 January 2009)

  * LP#294191 (Useradmin and Userinfo gives Page not found (404))
  * LP#300649 (snmptrapd logs crash as normal exit)
  * LP#300657 (snmptrapd crashes while parsing a trap)
  * LP#302740 (autoenable in Arnold is not working)
  * LP#303120 (Machine Tracker switch search by IP address produces
               erroneous results)
  * LP#308943 (Quarantine VLAN dropdown list does not appear)
  * LP#309287 (Attempt to move or delete filter in filter group
               crashes Alert Profiles)
  * LP#309290 (Attempt to confirm filter expression deletion does not
               work)
  * LP#309703 (Freetext search in maintenance does not work with IE)
  * LP#315380 (No SMS alerts sent in NAV 3.5.0b3)
  * LP#316281 (snmptrapd crashes on SIGHUP signal)
  * LP#317028 (Undocumented dependency to pyrad)
  * LP#317413 (Missing argument to changePortStatus in arnold library)

Version 3.5.0b3
(release 04 December 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * LP#285360 (netmap: interfaces swapped in popup view)
  * LP#285361 (netmap: use domain_suffix for shorter names)
  * LP#286922 (Netmap displays layer 2 links as layer 3 links)
  * LP#291551 (Alerts queued for daily dispatch are never sent)
  * LP#293519 (Radius accounting log search crashes on blank username
               or iprange)
  * LP#293531 (ipdevinfo does not redirect directly to ipdevice when
               domain_suffix is not given)
  * LP#293624 (AlertEngine crashes with UnboundLocalError for local
               variable 'num_sent_alerts')
  * LP#294075 (Alter the popup text order on ports in ipdevinfo)
  * LP#294191 (Useradmin and Userinfo gives Page not found (404))
  * LP#294578 (AlertEngine crashes with UnboundLocalError for local
               variable 'queued_alerts')
  * LP#294590 ("connected to" missing from GSW port details in ipdevinfo)
  * LP#298034 (ipdevinfo crash on missing availability stats)
  * LP#298039 (3.5 sql upgrade script does not flush old alerts from db)
  * LP#299851 (Cannot view public filters and filter groups)
  * LP#300449 (Make metanav and launchpad links more accessible)
  * LP#302412 (Add link from alert queue to alerts table)
  * LP#303967 (AlertEngine crash: global name 'TimePeriod' is not defined)
  * LP#303969 (AlertEngine crash: AlertEngine crash: object has no
               attribute 'timperiod_set')
  * LP#303977 (navTemplate.py missing from NAV 3.5 betas)
  * LP#305159 (Report advanced search form cannot be opened)


Version 3.5.0b2
(released 03 November 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 New features and improvements:

  * Radius accounting module added.  Enables NAV to store accounting logs from
    FreeRADIUS servers in the database, and search this data in the web
    interface.

  * HP SwitchStack support removed.  This functionality would cause much grief
    for those who have non-SwitchStack devices from HP.  See release NOTES for
    more information about migrating to this version if you monitor HP
    devices.

  * The report tool now displays the timestamp of report results.  This
    enables the user to see whether the results are retrieved live or from the
    report cache.  The cache is now also invalidated immediately if the report
    configuration files are changed.

 Bugfixes:

  * LP#273030 (getDeviceData crashes with ConcurrentModificationException)
  * LP#276225 (Local reports crash)
  * LP#276230 (Report name missing from automated report list)
  * LP#276246 (Report's advanced search form cannot be closed)
  * LP#277569 (Duplicate result rows in Machine Tracker)
  * LP#280145 (getDeviceData and eventEngine stop working after PostgreSQL
               disconnect)
  * LP#283102 (ARP records are wrongly associated with scope/static/reserved
               prefixes)
  * LP#284939 (AlertEngine resends alerts over and over)
  * LP#284950 (AlertEngine re-sends SMS messages indefinitely)
  * LP#284952 (AlertEngine logs are too verbose at loglevel INFO)
  * LP#285328 (ipdevinfo crashes with TypeError traceback)
  * LP#285331 (Duplicate RRD file references)
  * LP#286309 (Add new subscription should check for missing alertaddres and
               filtergroups)
  * LP#287434 (DEFAULT_FROM_EMAIL setting missing from nav.conf example)
  * LP#289823 (AlertEngine idles in transactions)
  * LP#289825 (AlertEngine eats RAM)

 
Version 3.5.0b1
(released 07 October 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes substantial changes to the NAV database. If  ##
## you are upgrading from a previous release you also need to      ##
## upgrade your database schema. For information on how to upgrade ##
## the database schema, please take a look in                      ##
## doc/sql/upgrades/README . See also the release NOTES for more   ##
## upgrade info.                                                   ##
##                                                                 ##
#####################################################################

 Launchpad.net has replaced SourceForge.net as NAV's project site
 provider.  All bug/feature number references from here on are
 prefixed with 'LP#'.

 New features and improvements:

  * The four NAV databases are merged into a single database.

  * IP Device Center is replaced by IP Device Info, written from
    scratch using Django.
  
  * Alert Profiles, user admin, user info and network explorer web
    tools rewritten from scratch using Python/Django.

  * AlertEngine har been rewritten from scratch using Python.

  * Netmap replaces the old Traffic Map solution.

  * Tomcat and PHP are no longer needed by NAV.

  * The report tool now supports local site reports using
    report.local.conf, while the report.conf distributed with NAV can
    be kept untouched.

  * Reports can now be configured to display column sum totals.

  * All available reports can now be listed, so they'll be available
    even if someone forgot to update the front.html configuration
    file.

  * More flexible location/room/device lookups and selects in the
    maintenance and device management interfaces.

  * LP#258331 (Warn user when port activity interval is larger than
               the actual data set)
  * LP#258340 (Additional information on switch ports)
  * LP#263610 (List more info about SRVs)
  * LP#263897 (Add a duplex mismatch report)
  * LP#263899 (Add a spanning tree blocked ports report)

 Bugfixes:

  * LP#262301 (Machine tracker links to ipdevinfo using wrong sysname
               for old records)
  * LP#258304 (Bug in color legend, browse/activity port view)


Version 3.4.4
(released 29 October 2008)

 Bugfixes:

  * LP#263931 regression (Status subsystem crashes when there are custom 
              status page preferences)
  * LP#273030 (getDeviceData crashes with ConcurrentModificationException)
  * LP#273866 (servicemon potentially crashes during NTP clock adjustments)
  * LP#277569 (Duplicate result rows in Machine Tracker)
  * LP#280145 (getDeviceData and eventEngine stop working after PostgreSQL
               disconnect)
  * LP#283102 (ARP records are wrongly associated with
               scope/static/reserved prefixes)


Version 3.4.3
(released 16 September 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release fixes bugs in the NAV database. If you are         ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade, see the     ##
## release NOTES and the contents of doc/sql/upgrades for more     ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * LP#262303 (Searching an entire IPv6 subnet hangs the Machine Tracker)
  * LP#262296 (Remove obsolete cricketoids.txt)
  * LP#262287 (Arnold SyntaxWarning: name 'manage' is assigned to before
               global declaration)
  * LP#263931 (Status subsystem crashes when there are custom status page
               preferences)
  * LP#264226 (AttributeError: 'NoneType' object has no attribute 'save')
  * LP#264690 (report template loads deprecated javascript which slows down
               page loading)
  * LP#264318 (Make NAV use PySNMPv2 on Ubuntu Hardy)
  * LP#264731 (unrecognizedCDP report fails on PostgreSQL 8.3)
  * LP#258271 (unwanted static option in prefix in edit db)
  * LP#260330 (Error in 3.4.2.sql)
  * LP#258282 (smsd only logs to stderr before forking)
  * LP#258283 (smsd runs happily along with no configured dispatchers)
  * LP#264274 (Status preference page reloads every 30 seconds)

Version 3.4.2
(released 01 August 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release fixes bugs in the NAV database. If you are         ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * SF#1805509 (EditDB says: Unsupported SNMP protocol version: 0)
  * SF#2023345 (Errors in manage.sql)
    - This fix requires manual intervention; must run SQL script
      doc/sql/upgrades/3.4.2.sql
  * SF#2031154 (Report pages load unnormally slow)
  * Various small fixes to the Netmap beta/preview.

Version 3.4.1
(released 15  July 2008)

 Bugfixes:

  * SF#1967784 (Cheetah 2.0.1 errors on some templates in NAV 3.4)
  * SF#1967947 (Building NAV 3.4.0 for packaging fails on Netmap)
  * SF#1990664 (IP Device info crashes)
  * SF#1991654 (Many PHP errors in AlertProfiles under PHP5)
  * SF#1992863 (Arnold presents wrong ports when detentioning)
  * SF#2008627 (IP scope matrix crashes in NAV 3.4)
  * SF#2014809 (UnicodeDecodeError in IP Device Info)
  * SF#2016635 (Status page crashes under PostgreSQL 8.3)
  * SF#2017947 (Maintenance engine crashes under PostgreSQL 8.3)
  * SF#2018505 (Register device RMA crashes)
  * SF#2018579 (Messages RSS feed crashes)

 Also includes various small updates to the Netmap preview version.


Version 3.4.0
(released 16 May 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 New features and improvements:

  * IPv6 prefixes are collected.

  * Router IPv6 neighboring caches are now collected and made
    searchable in the Machine Tracker.

  * IP address matrix report rewritten to also support IPv6 address
    ranges.

  * New Netmap preview included.

  * New IP Device Info preview included.

  * arplogger (iptrace) has been reimplemented as a getDeviceData
    plugin.  Starting/stopping iptrace is no longer possible with the
    nav command.

  * Advanced report search form can be opened/closed without reloading
    the entire report page (requires Javascript-enabled browser)

  * More flexible configuration of LDAP authentication allows more
    ways to organize objects in LDAP servers.  Now also allows TLS
    encryption of LDAP connections.

  * Machine tracker now links to IP Device Info for individual ports
    found in searches.

  * Specific prefixes can now be ignored by getDeviceData based on
    configuration file setting.

 Bugfixes:

  * SF#1680011 (User admin panel crashes with orgid > 10 chars)
  * SF#1702800 (The IP Device Center does not properly flag disabled ports)
    This was a regression fix.
  * SF#1707993 (Character encoding problems in Cricket configuration)
  * SF#1716297 ("PSQLException: The column name prefixid not found" in gDD)
  * SF#1949567 (eventEngine posts duplicate alert for duplicate start event)
  * SF#1954786 (makecricketconfig.pl does not escape descriptions)


Version 3.3.3
(released 14 March 2008)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.  See also the release NOTES for upgrade info.      ##
##                                                                 ##
#####################################################################

 Bugfixes:

  * SF#1897681 (Wrong traffic counters used on Juniper devices)
  * SF#1899431 (ARP records munged on router or prefix removal)
  * SF#1899476 (CAM records munged on netbox removal)

Version 3.3.2
(released 10 December 2007)

 Bugfixes:

  * SF#1831074 ("Value %r not a number" in IP device center)
  * SF#1847738 (t1000 uses wrong field in database for fetching module)
  * SF#1847772 (No switch ports in IP Device Center for some switches)
  * SF#1847776 (Arnold blocks wrong switch ports on some HP switches)
  * SF#1847934 (Compile error in FrontpageTemplate.tmpl using old Cheetah)

Version 3.3.1
(released 08 November 2007)

 Bugfixes:

  * SF#1550393 (HW/SW/FW versions flipping back and forth on devices)
  * SF#1811548 (Wrong results in port activity view in IP Device Center)
  * SF#1812189 (NAV says no cam table support for many switches)
  * SF#1815618 (ERROR: relation "arp" does not exist in manage.sql)
  * SF#1815756 (Service status matrix has become cluttered in NAV 3.3.0)
  * SF#1822583 (Crazy numbers in ranked statistics)
  * SF#1822650 (snmptrapd is unable to load any handler modules)
  * SF#1822651 (snmptrapd loads plugins only when traps are received)
  * SF#1822731 (snmptrapd fails with a TypeError)
  * SF#1822760 (Browsing service details fails with PostgreSQL >= 8.2)
  * SF#1828136 (arplogger closes all arp records from non-responsive routers)

Version 3.3.0
(released 01 October 2007)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 New features and improvements:

  * Plugin-based SNMP trap reception daemon.  Comes ready with plugins
    for LINKUP/LINKDOWN traps and association traps from Airespace
    equipment (Cisco WLAN Controllers).

  * Greatly improved browsing and searching of device history in
    device management web tool.

  * Redesigned web interface to make it more concise.

  * Switch port numbers replaced by interface names as identifiers in
    all parts of the interface, including the Machine Tracker.

  * IP Device Center now has a tab to display router ports on modules,
    and also has detail views for router ports.

  * SF#1556369 (Support machine tracker switch searches by IP address).

  * Status page automatically refreshes every 30 seconds.

  * Logengine can now parse syslog files using a user defined
    character set (whereas it would previously choke on non-ASCII
    Latin-1 characters being inserted in the database).

 Bugfixes:

  * SF#1733239 (SQL character encoding errors in logengine)
  * SF#1750311 (Status subsystem crashes under mod_python 3.3.1)
  * SF#1733356 (Alert profile filters based on subcategory do not work)
  * SF#1660467 (Status Page crashes when box is down/on maintenance)
  * SF#1742713 (Messages retains db connections between browser requests)
  * SF#1739532 (l2trace crashes with traceback when searching by dns name)
  * SF#1702676 (EditDB assumes all SNMP devices can speak SNMPv1)
  * SF#1724688 (Missing quotes in arnold.pl)
  * SF#1798698 (PSQLException: This statement has been closed)
  * SF#1792351 (No traffic map load data with PostgreSQL 8.2.x)
  * SF#1801886 (getBoksMacs throws SQLExceptions for LLDP-enabled devices)

 Also various other small bugfixes and improvements.

Version 3.2.2
(released 01 May 2007)

 Bugfixes:

  * SF#1550393 (Hardware version flipping back and forth on devices)
  * SF#1588465 (moduleState quarantine does not work)
  * SF#1669763 (Port numbers are wrong on CatOS switches)
  * SF#1669975 (Cisco VLAN interfaces are not properly ignored as swports)
  * SF#1675508 (getDeviceData produces OutOfMemoryErrors and freaks out)
  * SF#1680004 (EditDB crashes when adding a room that already exists)
  * SF#1681256 (t1000.pl refers to non-existant database fields)
  * SF#1689137 (The OID tester ignores responses with empty strings)
  * SF#1697527 (NAV daemons don't properly re-open log files on SIGHUP)
  * SF#1699058 (The SMS daemon dies on temporary dispatcher failures)
  * SF#1699068 (smsd/gammu doesn't see that SMS was successfully sent)
  * SF#1702800 (The IP Device Center does not properly flag disabled ports)
  * SF#1677074 (Router temperature over 300M degrees Celsius in Cricket)
  * SF#1702860 (EditDB crashes when attempting to add a service)
  * SF#1661395 (SMSD's BoostDispatcher crashes)
  * SF#1704164 (Confusing label "Last seen on switch" in IP info center)

 Also various other small improvements.

Version 3.2.1
(released 16 February 2007)

 Bugfixes:

  * SF#1661327 (Makecricketconfig uses 64-bit counters where not supported)
  * SF#1660516 (eventEngine does not work in NAV 3.2.0)
  * SF#1649947 (My SMS crashes if user has no sms alert address)
  * SF#1661381 (SMSD's database queue fails with SQL syntax error)

Version 3.2.0
(released 02 February 2007)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 New features and improvements:

  * New messages and maintenance web tools, rewritten from scratch, replace the
    old messages system. The maintenance tool features a calendar for ease of
    use.

  * SMS Daemon rewritten in Python, now extensible with dispatcher plugins.
    Existing plugins for Gammu, Boost Communications (www.boostcom.no) and
    e-mail gateways.

  * New link from alert profiles enables users to see their own SMS queues.

  * More information and links in the IP Device Browser. Among other things:
    New color for 10gig ports, displays serial number, displays software
    version and displays "first discovered by NAV" time.

  * Full description (ifAlias) string now stored for gwports too.

  * All reports have been revised.  A new report lists unrecognized CDP
    neighbours seen by NAV.  Reports now display 1000 rows per page by default,
    instead of 100.

  * The status page now shows devices and services on maintenance.

  * A new tool to show ranked statistical data collected by NAV/Cricket.
    Useful for checking which routers/switches have the highest CPU
    utilization, which interfaces have the most traffic, etc.

  * NAV now configures Cricket to utilize 64-bit traffic counters where
    applicable, preventing counter wrap-around problems for saturated links and
    reducing collection frequency for gigabit interfaces from once a 1 minute
    to once every 5 minutes.

  * Room IDs can now be changed in EditDB

  * The OID tester component of getDeviceData now runs faster, by not issuing
    unnecessary indexed community snmp queries.

  * New About-page in web interface.

  * HTML templates restructured, much of the web interface will now validate as
    XHTML 1.0 Transitional.

  * NAV installation can now properly report its own version number.

  * JVM options can now be configured individually for Java bases subsystems in
    nav.conf.  Java subsystems can now also be configured to use an alternate
    JVM installation using the JAVA_HOME variable in nav.conf.

  * Cleaned up output from nav start/stop/status commands, to increase
    legibility.

  * Removed gDD dependency on the system's /usr/bin/host program.

  * Arplogger now ignores routers that are known to be down, instead of spewing
    SNMP query errors by e-mail.

  * IP Devices can now be deleted directly from the Edit IP Device form in
    EditDB.

  * Nice, new icons for several web tools, now with SVG source files.

 Bugfixes:

  * Many SQL errors related to missing tables in FROM clauses fixed.

  * Fixed bug #1551839 (Cannot change IP address in EditDB)
  
  * Fixed bug #1602315 (EditDB crashes when attempting to delete rooms in use)

  * Fixed bug #1643321 (EditDB crashes when entering invalid IP address)

  * Fixed bug which crashed EditDB when devices returned SNMP Integer values as
    serial numbers.

  * Arnold now properly blocks switch ports on HP equipment.

  * Changed inefficient hash indexes which caused the logengine (syslog
    analyzer) to run extremely slowly and PostgreSQL to run up an insane server
    load.

  * Fixed bug that occurred spuriously, causing the Prefix Matrix to believe an
    entire network scope was a subnet on its own.

  * makecricketconfig.pl would set strange umask values when writing
    cricket-config, which would cause permission problems and possibly make
    graphs disappear from the Cricket web interface.

  * ... and various other small bugs.


Version 3.1.1
(released 08 November 2006)

 Security fixes:

 * The session mechanism of the web interface contained a potential directory
   traversal vulnerability.  A mitigating factor was that an attacker would
   first need write access to the local file system of the NAV server.  The
   vulnerability was discovered by Jim Gallacher, and is similar to a
   vulnerability discovered in mod_python:
   http://issues.apache.org/jira/browse/MODPYTHON-135

 Bugfixes:

 * getDeviceData no longer attempts to map Cisco submodules into NAV's data
   model.  This solves several Cisco related module problems.

 * Any module without switch ports would erroneously be detected as down when
   the module monitor ran single handedly.  Typically, they would stay marked
   as down for five hours, go up for one hour, then down again for another
   five (#1583453).

 * getDeviceData threads working with equipment that enabled VLANs above 1023
   would crash, causing incomplete information to be collected from these
   devices..  It no longer crashes, but NAV still will not properly support
   more than 1024 vlans (#1518783)

 * getDeviceData should no longer generate repeated, incorrect
   deviceHwVerChanged alerts for HP equipment (#1550393).

 * Fixed bug that would cause a getDeviceData collector thread to crash when a
   device appeared not to support the ifHighSpeed OID.

 * A couple of getDeviceData plugins had NullPointerExceptions.

 * Initial Cricket/makecricketconfig setup was botched after directory
   restructuing.  Makecricketconfig is now more flexible when locating a
   system's cricket installation, and where its config and data are placed.

 * Some SQL errors in EditDB were fixed.

 * Fixed bugs in SNMP getnext handling in EditDB.

 * Fixed an EditDB hardcoded limitation of 10 characters in an IP device's
   orgid field - the database allows up to 30 characters.

 * EditDB would crash when inserting devices that happened to return non-ASCII
   serial numbers.  Non-ASCII serial numbers are now ignored.

 * Removed code from networkDiscovery that attempted to traverse non-routed
   VLANs.  This code was not properly tested, and potentially caused several
   topology related problems.

 * Build/install errors related to Arnold were fixed.

 * A bug caused by hardcoded values in Arnold prevented it from blocking ports
   on equipment of other categories than EDGE, even if it was configured to
   allow this.

 * Status page preferences no longer crashes with a Python traceback
   (#1521695).

 * The Traffic Map admin buttons no longer disappear when the Traffic Map
   applet is reloaded (#1495566).
 
 * The traffic map would never display any load data for links on interfaces
   with spaces in their names (such as ATM interfaces on Cisco devices).

 * The "black load" syndrome of the Traffic Map has been compensated for. 

 * The cam collector would not insert port numbers in cam records unless NAV
   had collected proper ifName/ifDescr values for the ports in question.

 * The pping and servicemon processes now properly perform a double fork and
   detach completely from the controlling terminal when daemonized.  When the
   daemons had been started/restarted in an SSH session, this bug would
   sometimes cause said SSH session to hang on logout.

 * Fixed a bug which rendered NAV's Cheetah templates incompatible with
   Cheetah 2.

 * Various other small bugfixes and cosmetic changes.


Version 3.1.0
(released 30 June 2006)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 New features and improvements:

 * Arnold, a subsystem to block users' switch ports by using NAV's
   Machine Tracker data.

 * IP Information Center web tool, displays any information NAV has on
   single IP addresses.

 * Extra tab on IP Device Center to illustrate switch port usage.

 * The IP Device Center will now display a device's software version,
   and a timestamp of the last update made by getDeviceData.  

 * A "refresh" link on the IP Device Center allows the user to trigger
   a new collection run to refresh the device data.

 * l2trace web tool, enables users to trace network paths on layer
   two.

 * Autodiscovery command line tool added to contrib.  This tool will
   try to discover every managed network device within your network,
   and add them to NAV.

 * All logged in users are now considered members of the new system
   group "Authenticated Users".  Minimum privileges for authenticated
   users can be granted to this group.

 * Password hashes stored in the account database are now salted, for
   slightly enhanced security.

 * NAV now supports reading interface speeds from the ifHighSpeed OID,
   thus supporting speeds above 4.2Gbps.

 * Initial db setup now suggests creating only one database user,
   instead of the previous two.

 Bugfixes:

 * Dependency on pysnmp=3.3.5 (the unstable dev branch) has been
   removed, please downgrade to pysnmp 2.

 * EditDB no longer crashes when adding devices that report duplicate
   serial numbers.

 * AlertEngine would crash when concatenating several queued alerts
   into one SMS message.

 * AlertEngine would, under certain circumstances, not delete a user's
   queued alerts, resulting in constant retransmission of the same
   queued alerts.

 * Some improved debug logging in AlertEngine.

 * DNS lookups in getDeviceData are slightly more robust.

 * The cam logger now runs 4 times an hour, as opposed to once every
   hour, which was not a very good default.

 * Missing Traffic Map icons were added.

 * Machine Tracker would crash when doing DNS lookups on inactive host
   searches (#1509944).

Version 3.0.1
(released 28 April 2006)

 Security fixes:

 * The report interface failed to properly sanitize user input,
   potentially allowing for SQL injections.

 Bugfixes:

 * Some modules import python profiling modules that aren't always
   part of the standard distribution.

 * pping would crash if there was no route to a host.

 * SQL Errors in the server and trunked core switch ports reports.

 * Some devices would never be taken off maintenance.

 * The default web greeting still mentioned the word "beta"

 * The SMTP service checker didn't properly extract version
   information from all SMTP server banners.

 * Registering mixed case device names as sysnames or DNS names would
   result in dnsMismatch alerts.

 * dnsMismatch alert text would use the DNS name as both the sysname
   and DNS name values, confusing the receiver as to what the actual
   problem was.

 * getBoksMacs/mactrace would crash under specific, hard to reproduce
   circumstances.

 * There were potential syntax errors in the NAV perl API with newer
   Perl versions.

 * Some NAV processes would not gracefully close database connections
   on exit.

 * Several parts of the web interface would report InterfaceErrors if
   a database connection was temporarily dropped by the database
   server.  Please report any further occurrences of these errors.

 * Newer versions of Firefox would not properly render the table
   graphics of the web interface.

 * The machine tracker would not properly sanitize user input IP
   addresses, leading to strange errors and backtraces in the web
   interface.

 * The Alert Engine would did not delete processed entries from the
   alert queue, which caused the database table to grow indefinitely.

 * Much of the Alert Engine's debug logs were unreadable because they
   referred to many entities by their internal database IDs.
 
 * The type information shipped with NAV incorrectly specified that
   Cisco 3750 and 2970 based devices did not support the cs@vlan
   convention, thus disabling proper CAM table collection from these
   devices.

 * The HTML on the NAV login page would be sent as plain text under
   newer versions of mod_python.


Version 3.0.0
(released 16 September 2005)

 Improvements:

 * Fixed a bug in maintengine which prevented it from doing it's job when the
   database was busy/overloaded.

 * Fixed a bug in the integration between Alert Profiles (PHP) and the Cheetah
   templating system (Python), which would cause the Alert Profiles web
   interface to act up.

 * Character coding information added to all NAV-original Python programs.

 * Fixed a bug which cleared a user's password if the account editing form of
   Useradmin was submitted without changes.

 * NetworkDiscovery now only checks for closed vlans on active ports.

 * Fixed a NullPointerException in getDeviceData.

 * Fixed various problems with Cisco module/submodule translation in
   getDeviceData.

 * Fixed a AlertEngine/getDeviceData combination bug which caused AlertEngine
   to log loads of long error messages on events that lacked an alerttype
   suggestion.

 * New option to have AlertEngine log error messages to a separate error log.

 * AlertEngine now sends error alerts if an alerttype has no configured subject
   line in alertmsg.conf.

 * Added report shortcut to search for strings in prefix-netident (added to the
   front.html config file)

 * Added link from Report to the previously hidden feature "service matrix" of
   the IP Device Center (added to the front.html config file)


Version 3.0_rc2
(released 20 July 2005)

 Improvements:

 * More data for the snmpoid table, please run the new snmpoid.sql to
   ensure your system will work after an upgrade.

 * The Service Monitor's RPC plugin no longer complains loudly to
   stderr.

 * The Messages and Report web interfaces will no longer
   intermittently cross-over mysteriously.

 * The alert message texts have been updated to contain messages for
   all known alerts.

 * Overlapping time periods in an alert profile will no longer cause
   double alerts to be sent.

 * Modules that are down can now actually be found and deleted in the
   Device Management interface.

 * The Traffic Map system and Network Explorer can now be properly
   configured to run without a single NAV root directory.

 * Alert Profiles web pages now include the correct stylesheets, so it
   won't look as funny.

 * Several getDeviceData-related problems were ironed out.

 * The menu on Messages' maintenance list is no longer ugly.

 * IP devices put on maintenance will now be taken off maintenance,
   instead of remaining on maintenance forever.

 * Maintenance-scheduled IP devices can now be properly deleted from
   messages.

 * Next/previous page-links in reports will now work properly even
   when using advanced search options.  Also, advanced searching on
   database fields that contain underscores (like sw_ver) will now
   work.

 * Performance improvements in the IP Device Center.


Version 3.0_rc1
(released 09 June 2005)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 Improvements:

 * Eventengine BoxState plugin now uses a queue for boxes down in
   order to ensure that we don't send out boxdown alerts prematurely.

 * The Gwport plugin of getDeviceData has been rewritten and should
   be much more stable (less restarts of gDD necessary).

 * Most of the reports in the report generator have been optimized and
   will display much more quickly than before.

 * Various improvements to Cricket to better cope with changes. This
   should make vlanPlot display the network load more reliably.

 * Send email for boxShadow and boxSunny.

 * WLAN devices are correctly detected as being in shadow.

 * Only allow editing of prefixes where the nettype table says it's
   editable.

 * Attempt to fix several instances of bad HTML markup in the report
   generator, which would break on various browsers.

 * Attempt to get the module number of Cisco devices correct in more
   cases.

 * Handle the case of duplicate module serials in a graceful manner.

 * gDD collects data every 6 hours by default, although the default
   is only for new devices. The collection frequency can be changed by
   setting the 'frequency' field in the netboxsnmpoid table, and the
   default value can be changed in getDeviceData.conf.

 * Add option for setting the logging level for NAV subsystems in
   nav.conf.

 * Try to also discover closed / private VLANs.

 * Support for PIDs > 65535 in pping (typical on FreeBSD).

 * Add a 'monitor' thread to the cam-logger which exits the process
   if it hangs for some reason.

 * Using a separate database server has been tested and all NAV
   subsystems should now support this.


Version 3.0_beta10
(released 11 February 2005)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 Improvements:

 * gDD now makes sure to give priority to new devices when its work
   load with old devices is high.
 * gDD now refers to IP Devices by sysname in its logs, making it
   easier to track its actions when reading the logs.
 * gDD now correctly updates the netident of elinks.
 * gDD will now also attempt to extract software version information
   from a device's sysDescr OID (also collects sw_ver for the device
   itself, and not just its modules).
 * A bug that prevented the service monitor's LDAP plugin from
   functioning from time to time was fixed.
 * Router ports that are administratively down are removed from NAVdb
   by gDD.
 * The report generator now supports multi-line and complex SQL
   queries.
 * The SQL queries of the netbox, gw, sw, edge and wlan reports were
   optimized for speed.

 Additions:

 * gDD will now collect memory information from devices.


Version 3.0_beta9
(released 21 January 2005)

 User-visible changes:
 
 * For performance reasons, the WestHawk Java SNMP library has been
   discarded in favor of Java SNMP, which has a nice GPL license and
   doesn't hog resources by creating lots of threads.
 * Machine tracker searches have been redone to be more like in NAV 2,
   due to the complexity of automatic attempts at correlating CAM and
   ARP records.1
 * Makecricketconfig should now generate correct interface
   descriptions for router interfaces in Cricket.
 * The previously disabled Server statistics support of
   Makecricketconfig has ben re-enabled and fixed.
 * Start/stop scripts now use "su -" when switching from root to
   navcron, to reset the environment before starting processes.  This
   may have adverse effects if root has his/her environment variables
   set to locate NAV libraries while the navcron user doesn't.
 * The report system should now correctly count the number of gwports
   registered for a device in NAVdb.
 * Edit database no longer throws exceptions if NAVdb contains
   organizations without descriptions.
 * The default priorities of the web tools have been adjusted.
 * getDeviceData should no longer come out of sync with NAVdb, as it
   no longer works on a memory cache of the NAVdb.
 * getDeviceData no longer deletes prefixes of the 'scope' type (which
   makes the prefix matrix of the Report system work again).
 * Improvements to the module monitor of getDeviceData.
 * Load data is now available in the Traffic map.

Known bugs in this version:

 * getDeviceData will at times seemingly "forget" some IP devices and
   stop retrieving updated information from them.  Until this has been
   fixed, this can be worked around by restarting getDeviceData,
   either on a regular basis, or when inconsistencies between NAVdb
   and the real world are seen.


Version 3.0_beta8
(released 08 November 2004)

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 User-visible changes:
 * Encoding info has been added to several python modules, to make
   newer versions of Python stop complaining about PEP 0263.  But
   there are probably more modules that need these changes.
 * Attempting to stop not running cron services using the nav command
   will no longer yield a Python exception.
 * Alert profiles containing time periods spanning across midnight
   will now work.
 * Interface names containing more than one forward slash now work
   with makecricketconfig.
 * Added config file cricket-views.conf to define which views
   makecricketconfig will create.
 * Several editdb crash bugs were fixed.
 * Default set of reports (report.conf) were bugfixed.
 * MachineTracker had a serious design flaw in its primary SQL
   statement, which would cause arbitrary and erroneous search result.
   The automatic combination of arp and cam data should now be more
   accurate.
 * When there are no active messages, the annoying "No Found" message
   is no longer displayed on the home page.
 * Some missing icons have been added, and new icons for some tools.
 * Some strange errors on the web were due to small differences in
   mod_python versions used on Apache 1.3 and Apache 2, the ones that
   have been found have been fixed.
 * Tremendous amount of fixes related to the getDeviceData collection
   system, more accurate collection of module information and module
   state, detection of replaced netboxes, etc.
 * Errors in getDeviceData and missing constraints in the database
   would sometimes cause several netboxes and/or several modules to
   refer to the same device and serial number (which is supposed to be
   impossible).  This has been fixed.
 * Improvements to vlanPlot layout, including links to IP device
   center and Network Explorer.  Will now also display an error
   message when contact cannot be establishwith the vPServer, whereas
   previously it would only present a blank screen.
 

Version 3.0_beta7
(released 21 July 2004)

 Changelog for version 3 first created.  This entry contains changes
 since 3.0_beta6.  

#####################################################################
##  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  WARNING  ##
#####################################################################
##                                                                 ##
## This release makes changes to the NAV database. If you are      ##
## upgrading from a previous release you also need to upgrade your ##
## database schema. For information on how to upgrade the database ##
## schema, please take a look in doc/sql/upgrades for more         ##
## information.                                                    ##
##                                                                 ##
#####################################################################

 User-visible changes:
 * Several fixes to the web interface makes it compatible with Apache
   2 and mod_python 3.  Example config for Apache 2 included in
   doc/apache.
 * Syslog Analyzer ported/rewritten from NAV v2 (then known as navlog).
 * Subnet usage matrix ported/rewritten from NAV v2.
 * editDB can now edit cabling and patch information.
 * Improvements to the editDB interface:
   - Fixed typos.
   - Simplified a few procedures.
   - Clarified cryptic field names.
   - Red asterisks mark required form fields.
   - Can control groupings used in vlanPlot.
 * Improvements to the messages interface.
 * References to the eMotd subsystem have been changed to messages.
 * vlanPlot applet is now displayed inside the NAV web framework
   template.
 * The nav command will complain verbosely if it cannot import the
   nav.startstop module.
 * Lots of "hehe" fixes by stain.
 * The following utilities have been added:
   - dump.py to dump live database content into bulk import-ready text
     files.
   - navclean.py to delete old/expired cam- and arp records from the
     database.
 * pg_backup.pl translated to English and rewritten to work with NAV
   v3.  Example config included.
 * The user adminstration panel now has it's own entry in the toolbox.
 * Visibility improvements to vlanPlot and Network Explorer.
 * Some bugfixes related to getDeviceData's collection of information.
