boks {
$sql="SELECT sysname,ip,kat,kat2,typeid,romid,orgid,boksid,prefiksid
FROM boks";
$overskrift = "Utstyrsregister ";
$order_by="romid";
$navn_sysname="Navn";
$navn_ip="IP-adresse";
$skjul = "boksid,prefiksid";
$navn_typeid="Type";
$navn_romid="Rom";
$navn_orgid="Org";
$ekstra="moduler,minne";
$url_romid="?rapport=rom&romid=$romid";
$url_typeid="?rapport=type&typeid=$typeid";
$url_orgid="?rapport=org&orgid=$orgid";
$url_ip="?rapport=prefiks&prefiksid=$prefiksid";
$url_kat="?rapport=boks2&kat=$kat";
$url_minne="?rapport=mem&sysname=$sysname";
$url_moduler="?rapport=modules&sysname=$sysname";
}
boks2 {
$sql="SELECT sysname,ip,kat,kat2,typeid,romid,orgid,
count(moduleid),boksid,prefiksid FROM boks JOIN module USING (boksid)
GROUP by boksid,prefiksid,sysname,ip,kat,kat2,typeid,romid,orgid";
$overskrift = "Utstyrsregister med mer info ";
$order_by="romid";
$navn_sysname="Navn";
$navn_ip="IP-adresse";
$skjul = "boksid,prefiksid";
$navn_typeid="Type";
$navn_romid="Rom";
$navn_orgid="Org";
$ekstra="moduler,minne";
$url_romid="?rapport=rom&romid=$romid";
$url_typeid="?rapport=type&typeid=$typeid";
$url_orgid="?rapport=org&orgid=$orgid";
$url_ip="?rapport=prefiks&prefiksid=$prefiksid";
$url_minne="?rapport=mem&sysname=$sysname";
$url_moduler="?rapport=modules&sysname=$sysname";
}
listkant {
$sql= "SELECT vlan,maske,ip,sysname FROM boks JOIN prefiks USING 
(prefiksid) WHERE (kat='KANT' OR kat='SW') ORDER BY maske,vlan,ip";
$overskrift = Switches/hubs sorted by mask size";
}
antkant {
$sql = "select maske,count(vlan),vlan from boks join prefiks using 
(prefiksid) where (kat='KANT' OR kat='SW') 
group by vlan,maske order by maske,count(vlan) desc";
$overskrift = "Number of *-sw/*-h on uach vlan";
}
swportv {
$sql="SELECT sysname,modul,port,status,speed,duplex,trunk,vlan,boksbak,portnavn,swportid 
FROM swport JOIN swportvlan USING (swportid) JOIN boks USING (boksid)";
$overskrift = "Svitsjeporter med vlan";
$navn_sysname = "Svitsj";
$navn_speed = "Mbps";
$order_by="boksid,modul,port";
$url_boksid="?rapport=boks&boksid=$boksid";
$url_trunk="?rapport=swportv&swportid=$swportid";
}
swportv2 {
$sql="SELECT b1.sysname,modul,port,status,speed,duplex,trunk,vlan,b2.sysname as per,
boksbak,portnavn,swportid FROM swport JOIN swportvlan USING (swportid) JOIN boks AS 
b1 USING (boksid) JOIN boks AS b2 ON (boksbak=b2.boksid) WHERE vlan='75' ORDER 
BY b1.boksid,modul,port";
$overskrift = "Svitsjeporter med vlan";
$skjul = "swportid";
$navn_per = "Tilkoblet";
$navn_sysname = "Svitsj";
$navn_speed = "Mbps";
$order_by="b1.boksid,modul,port";
$url_sysname="?rapport=boks&sysname=$sysname";
$url_per="?rapport=boks&sysname=$per";
$url_boksid="?rapport=boks&boksid=$boksid";
$url_trunk="?rapport=swportv&swportid=$swportid";
}
sted {
$sql="SELECT stedid,descr FROM sted";
$overskrift = "Område";
$navn_descr="Beskrivelse";
$ekstra
}
rom {
$sql="SELECT romid,stedid,descr,rom2,rom3 FROM rom";
$overskrift = "Telematikkrom";
$order_by="romid";
$navn_rom2="byggnr";
$navn_rom3="romnr";
$sum="romid";
$url_stedid="?rapport=sted&stedid=$stedid";
}
anv {
$sql="SELECT anvid,descr FROM anv";
$overskrift = "Anvendelsestype ";
$navn_anvid="Anvendelse";
$navn_descr="Beskrivelse";
$order_by="anvid";
}
type {
$sql="SELECT typeid,descr FROM type";
$overskrift = "Utstyrstyper ";
$navn_typeid="Type";
$navn_descr="Beskrivelse";
$order_by="typeid";
}

# Denne kommer inn når boksinfo kommer
#$sql="SELECT romid,sysname,typeid,orgid,software FROM boks,boksinfo where 
#kat='GW' AND boks.boksid=boksinfo.boksid";

gw {
$sql="SELECT romid,sysname,typeid,orgid,boksid FROM boks WHERE kat='GW'";
$overskrift = "Rutere";
$ekstra="ruterporter";
$url_ruterporter="?rapport=gwport&boksid=$boksid";
$order_by="romid";
}
modulecat {
$sql="SELECT typeid,sysName,modulenumber,model,sw,hw FROM boks JOIN module USING
(boksid) JOIN type USING (typeid) where typegruppe='cat-sw' order by
sysName,modulenumber";
$overskrift = "Catalyster";
$order_by="sysname";
}
modules {
$sql="SELECT typeid,sysname,modulenumber,model,descr,sw,hw,serial FROM 
boks JOIN module 
USING (boksid)";
$overskrift = "Moduler";
$order_by="sysname,modulenumber";
$url_sysname="?rapport=boks&sysname=$sysname";
$url_typeid="?rapport=type&typeid=$typeid";
}

mem {
$sql="SELECT sysname,kat,memtype,device,size,used FROM boks JOIN mem USING 
(boksid)";
$order_by="sysname,kat,memtype,device";
$overskrift = "Minne";
$navn_(size/1024/1024)="Size";
$url_sysname="?rapport=boks&sysname=$sysname";
$url_memtype="?rapport=mem&memtype=$memtype";
$url_device="?rapport=mem&device=$device";
}

org {
$sql="SELECT forelder,orgid,descr,org2 FROM org";
$overskrift = "Organisasjon";
$navn_descr="Beskrivelse";
$navn_org2="Kontaktperson";
$navn_forelder="Mor";
$navn_orgid="Enhet";
$order_by="orgid";
$url_forelder="?rapport=org&orgid=$forelder";
}

#$sql= "SELECT 
#sysname,interf,gwip,speed,ospf,gwport.boksid,gwport.prefiksid FROM 
#gwport
           JOIN boks USING (boksid)";

gwport {
$sql= "SELECT sysname,interf,speed,gwip,maske,nettident,ospf,
gwport.prefiksid,boksid 
FROM gwport JOIN prefiks USING (prefiksid) JOIN boks USING (boksid)";
$overskrift = "Ruterporter";
#kolonner som må være med i søket, men som helst ikke bør vises.
$skjul = "boksid,prefiksid";
//nye navn
$navn_sysname="Navn";
$navn_interf="Ruterport";
$navn_gwip="IP-adresse";
$navn_speed="Mbps";
$navn_prefiksid="p";
$order_by="sysname";
$url_gwip="?rapport=prefiks&prefiksid=$prefiksid";
$url_sysname="?rapport=boks&sysname=$sysname";
}
swportvlan{
$sql="SELECT swportid,vlan,retning FROM swportvlan";
$overskrift="Vlandefinisjoner";
$order_by="swportid";
}
swport {
$sql="SELECT swportid,boksid,modul,port,status,speed,duplex,trunk,portnavn FROM swport"; 
$overskrift = "Svitsjeporter";
$order_by="boksid,modul,port";
$url_swportid="?rapport=swportvlan&swportid=$swportid";
$url_boksid="?rapport=boks&boksid=$boksid";
}

prefiks {
$sql="SELECT nettadr,maske,vlan,nettype,nettident,orgid,anvid,antmask,prefiksid FROM 
prefiks";
$overskrift = "Subnett i bruk";
$order_by="nettadr";
$navn_nettadr = "Nettadresse";
$navn_prefiksid = "id";
$url_nettadr="?rapport=gwport&prefiksid=$prefiksid";
$url_vlan="?rapport=swportv&vlan=$vlan";
$url_orgid="?rapport=org&orgid=$orgid";
$url_anvid="?rapport=anv&anvid=$anvid";
}


swportt {
$sql="SELECT 
sysname,modul,port,status,speed,duplex,trunk,vlan,boksbak,portnavn,swportid 
FROM swport JOIN swportvlan USING (swportid) JOIN boks USING (boksid) WHERE 
trunk='t'";
$overskrift = "Trunker";
$order_by="boksid,modul,port";
$url_boksid="?rapport=boks&boksid=$boksid";
}

kant {
$sql="SELECT sysname,ip,modulenumber FROM boks JOIN module using (boksid)
GROUP by sysname,ip";
$overskrift = "PS40";
$order_by="ip";
}

