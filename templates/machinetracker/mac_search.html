{% extends "machinetracker/base.html" %}

{% block content %}

    <form action="{% url machinetracker-mac %}" method="get">
        <div id="search_form">
            <div class="row">
                <div class="large-6 column">
                    <div class="row collapse">

                        {% if form.mac.errors %}
                            <div class="large-12 column">
                                <small class="error nomargin">{{ form.mac.errors }}</small>
                            </div>
                        {% endif %}

                        <div class="large-3 column">
                            <span class="prefix">Mac</span>
                        </div>
                        <div class="large-7 column">
                            {{ form.mac }}
                        </div>
                        <div class="large-2 column">
                            <input type="submit" value="Search" class="button postfix"/>
                        </div>

                    </div>
                </div>

                <div class="large-6 column">
                    <a href="#" data-reveal-id="valid-search-terms"
                       title="Help"
                       class="button small right">Help</a>
                </div>
            </div>


            {% comment %} FILTERS FOR MAC SEARCH {% endcomment %}
            <div class="row collapse machinetracker-filters">
                <div class="large-3 column">
                    <div>
                        <label for="{{ form.dns.auto_id }}">{{ form.dns.label }}</label>
                        {{ form.dns }}
                    </div>
                </div>

                <div class="large-3 column">
                    <div>
                        <label for="id_netbios">Netbios:</label>
                        {{ form.netbios }}
                    </div>
                </div>

                <div class="large-3 column">
                    <div>
                        <label for="id_hide">Show only active records:</label>
                        <input type="checkbox" id="id_hide" name="days"
                               value="-1"
                               onclick="document.getElementById('id_days').disabled = this.checked;"/>
                    </div>

                </div>

                <div class="large-3 column">
                    <div class="machinetracker-filter-days">
                        <label for="id_days">Days:</label>
                        {{ form.days }}
                    </div>
                    {% if form.days.errors %}
                        <small class="error nomargin">{{ form.days.errors }}</small>
                    {% endif %}
                </div>
            </div>

        </div>
    </form>

    {% if mac_tracker or ip_tracker %}
        <div class="results">
            {% include "machinetracker/mac_tracker.html" %}
        </div>

        <div class="results">
            {% include "machinetracker/ip_tracker.html" %}
        </div>
    {% endif %}

    <div id="valid-search-terms" class="reveal-modal">
        <h4>Search Hints</h4>
        <ul>
            <li>
                MAC search allows searching for a MAC prefix, e.g. a search for
                &quot;<tt>00aabbcc</tt>&quot; will return all matches between
                <tt>00:aa:bb:cc:00:00</tt> and <tt>00:aa:bb:cc:ff:ff</tt>.
            </li>
            <li>
                The use of colon in the MAC search is optional, e.g.
                &quot;<tt>00aabbcc</tt>&quot; and &quot;<tt>00:aa:bb:cc</tt>&quot;
                are equal.
            </li>
        </ul>
    </div>


{% endblock %}
