<table>
  <tr>
    <td>
      {{ matrix.start_net.prefixlen }} ...
      {{ matrix.end_net.prefixlen|add:-bits_in_matrix}}
    </td>

    {% for heading in matrix.column_headings %}
      <th>{{ heading }}</th>
    {% endfor %}

  </tr>

    {% for node in matrix.nodes %}
      <tr>
        <td class="nocenter">
          {{ node.net.strCompressed }}
        </td>
        <td colspan="16">&nbsp;</td>
      </tr>
      {% for subnet in node.subnets %}
        <tr>
        {% for cell in subnet %}
          <td {% if forloop.first %}class="nocenter"{% endif %}
              colspan="{{ cell.colspan }}"
              style="background: {{ cell.color }};">
            {{ cell.content|safe }}
          </td>
        {% empty %}
          <td class="blank" colspan="{{ matrix.num_columns|add:"1" }}"></td>
        {% endfor %}
        </tr>
      {% endfor %}
    {% endfor %}

</table>
