{% extends "base.html" %}

{% block base_header_additional_head %}
<link href="/style/info_room.css" type="text/css" rel="stylesheet">
{% endblock%}

{% block base_content %}
<h2>Roomview</h2>

{% block roominfo %}

<form action="{% url room-search %}" method="post">
<p>{{ searchform.query }} <button type="submit">Search</button></p>
</form>


{% ifequal request.method "POST" %}

{% if rooms %}
<table class="listtable">
    <caption>{{ rooms|length }} result{{ rooms|pluralize:",s" }}
        for "{{ searchform.data.query }}"</caption>

    <thead>
        <tr>
            <th>Room</th>
            <th>#Netboxes</th>
        </tr>
    </thead>

    <tbody>
        {% for room in rooms %}
        <tr>
            <td>
                <a href="{% url room-info room.id %}">{{ room }}</a>
            </td>
            <td>
                {{ room.netbox_set.count }}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% else %}

<p class="messages">No room found</p>

{% endif %}

{% endifequal %}


{% endblock %}

{% endblock %}
