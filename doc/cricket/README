===================
Cricket integration
===================

NAV uses the 3rd party tool Cricket to collect and graph traffic and other
statistics from devices. NAV supplies its own base configuration tree for
Cricket, while the `mcc.py` creates the specific entries in the configuration
tree based on the contents of the NAV database. This program is by default set
up to run as a nightly cron job.

The document "Installing Cricket for the Complete Beginner"
(http://cricket.sourceforge.net/support/doc/beginner.html ) is recommended
reading.


Cricket views
-------------

If `mcc.py`, or you, have made a new targettype, you have to
make your own view that suits that targettype. A view is a group of
datasources (i.e. `cpu1min`, `cpu5min` and so on) that appear on the same
graph when viewing Cricket-graphs on the web-page. If you have no
views defined in the target-type, all datasources will appear on the
same graph. This may be messy and is seldom recommended. 

Making your own view is not difficult at all. Most datasources have a
corresponding graph with the same name. So to group the datasources you
want in one view, you just make your own group, select the
target-types you want in it and then you are done.

Example of target-type without view::

  targetType RSM
  ds = "cpu1min,cpu5min,mem5minUsed,mem5minFree"

We see that there are two natural views here, cpu and memory. So to
make a view out of it we divide the datasources into two groups. This
is done by making a new line that starts with "view =" and then add
the groups. You can see the format on the line below. Groups are
divided with a "," (comma). Datasources are divided with a space and
everything is enclosed in "" (quotes)::

  view = "cpu:cpu1min cpu5min,memory:mem5minUsed mem5minFree"

If you are still uncertain of how to make your own views, look at the
sample config in the `Default` files included in the
cricket-config-directory, or consult "The Cricket Reference Guide" at
http://cricket.sourceforge.net/support/doc/reference.html


Styling Cricket
---------------

Cricket provides its own CGI-based interface for browsing and viewing graphs.
NAV supplies its own stylesheet, `cricket.css`, that can be used to style
Cricket's web interface with NAV colors, if you like. Just replace Cricket's
own `cricket.css` file with NAV's.
